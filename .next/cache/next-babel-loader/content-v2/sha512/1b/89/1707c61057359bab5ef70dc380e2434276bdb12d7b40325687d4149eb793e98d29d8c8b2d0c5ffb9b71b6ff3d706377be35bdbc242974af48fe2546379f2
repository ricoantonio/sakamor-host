{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useState, useEffect, useContext } from \"react\";\nimport Link from \"next/link\";\nimport Router from \"next/router\";\nimport { Stores } from \"../store\";\nimport styles from \"../styles/pages/MasterWorkVisit.module.css\";\nimport Nav from \"../components/Nav\";\nimport Spinner from \"../components/Spinner\";\nimport DetailPlan from \"../components/DetailPlan\";\nimport Button from \"../components/Button\";\nimport { getAuth, getPlanList } from \"../helper\";\nimport moment from \"moment\";\nexport default function Plan() {\n  const {\n    state,\n    dispatch,\n    actions\n  } = useContext(Stores);\n  const {\n    0: plan,\n    1: setPlan\n  } = useState([]);\n  const {\n    0: search,\n    1: setSearch\n  } = useState(\"\");\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(true);\n  useEffect(() => {\n    const userData = JSON.parse(localStorage.getItem(\"user\"));\n    const userMenu = JSON.parse(localStorage.getItem(\"menu\"));\n\n    if (userData) {\n      getAuth(userData).then(data => {\n        var auth = data.filter(val => {\n          return val.moduleCode === \"PLAN\";\n        });\n        var menu = userMenu.filter(val => {\n          return val.moduleCode === \"PLAN\";\n        });\n\n        if (!(auth && menu)) {\n          Router.push(\"/\");\n        }\n      }).catch(err => {\n        console.log(err);\n      });\n    } else {\n      Router.push(\"/\");\n    }\n  }, [dispatch]);\n  useEffect(() => {\n    setLoading(false);\n  }, [dispatch]);\n\n  const render = () => {\n    if (loading) {\n      return /*#__PURE__*/_jsx(Spinner, {});\n    } else {\n      return /*#__PURE__*/_jsx(\"div\", {\n        className: styles.container,\n        children: /*#__PURE__*/_jsxs(\"div\", {\n          className: styles.wrapper,\n          children: [/*#__PURE__*/_jsx(Nav, {\n            backHref: \"/\"\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: styles.title_container,\n            children: /*#__PURE__*/_jsx(\"div\", {\n              className: styles.title,\n              children: \"Master Work Visit\"\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: styles.main,\n            children: /*#__PURE__*/_jsxs(\"div\", {\n              className: styles.input_container,\n              children: [/*#__PURE__*/_jsx(\"div\", {\n                style: {\n                  marginRight: \"5px\"\n                },\n                children: /*#__PURE__*/_jsx(\"input\", {\n                  className: styles.input,\n                  type: \"date\",\n                  min: moment().format(\"YYYY-MM-DD\")\n                })\n              }), /*#__PURE__*/_jsx(\"div\", {\n                style: {\n                  marginLeft: \"5px\"\n                },\n                children: /*#__PURE__*/_jsx(Button, {\n                  text: \"Add\"\n                })\n              })]\n            })\n          })]\n        })\n      });\n    }\n  };\n\n  return render();\n}","map":null,"metadata":{},"sourceType":"module"}