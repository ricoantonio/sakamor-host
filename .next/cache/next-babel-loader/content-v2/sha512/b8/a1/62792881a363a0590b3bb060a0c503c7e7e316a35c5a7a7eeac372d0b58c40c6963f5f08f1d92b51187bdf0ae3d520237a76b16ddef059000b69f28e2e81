{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Rico\\\\Desktop\\\\Home\\\\Kalbe app\\\\sakamor-new\\\\pages\\\\reward\\\\index.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useContext } from \"react\";\nimport styles from \"../../styles/pages/Reward.module.css\";\nimport Link from \"next/link\";\nimport { Stores } from \"../../store\";\nimport { getAllAnnouncement, getIncentiveYearly, getKpiInventiveMonthlySMR } from \"../../helper\";\nimport moment from \"moment\";\nimport BotNav from \"../../components/BotNav\";\nimport Nav from \"../../components/Nav\";\nimport Card from \"../../components/Card\";\nimport { Line } from \"react-chartjs-2\";\nimport Spinner from \"../../components/Spinner\";\nimport TabelLastDataIncentive from \"../../components/TableLastDataIncentive\";\nexport default function Announcement() {\n  _s();\n\n  var _useContext = useContext(Stores),\n      state = _useContext.state,\n      dispatch = _useContext.dispatch,\n      actions = _useContext.actions;\n\n  var _useState = useState([]),\n      dataKpi = _useState[0],\n      setDataKpi = _useState[1];\n\n  var _useState2 = useState(true),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n\n  var _useState3 = useState([]),\n      dataGraph = _useState3[0],\n      setDataGraph = _useState3[1];\n\n  var _useState4 = useState(new Date()),\n      now = _useState4[0],\n      setNow = _useState4[1];\n\n  var data = {\n    labels: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"June\", \"July\", \"Aug\", \"Sept\", \"Oct\", \"Nov\", \"Dec\"],\n    datasets: [{\n      label: \"Last Data Insentive\",\n      data: dataGraph,\n      fill: false,\n      backgroundColor: \"rgb(65, 134, 122)\",\n      borderColor: \"rgba(65, 134, 122, 0.2)\"\n    }]\n  };\n  var options = {\n    scales: {\n      yAxes: [{\n        ticks: {\n          beginAtZero: true\n        }\n      }]\n    },\n    tooltips: {\n      enabled: false\n    },\n    hover: {\n      mode: null\n    }\n  };\n  useEffect(function () {\n    var userData = JSON.parse(localStorage.getItem(\"user\"));\n    getKpiInventiveMonthlySMR(userData).then(function (dataKpi) {\n      setDataKpi(dataKpi);\n      getIncentiveYearly(userData).then(function (data) {\n        data.sort(function (a, b) {\n          return a.bulan - b.bulan;\n        });\n        var yearlyIncentive = data.map(function (val) {\n          return val.totalInsentif;\n        });\n        setDataGraph(yearlyIncentive);\n        setLoading(false);\n      })[\"catch\"](function (err) {\n        console.log(err);\n      });\n    })[\"catch\"](function (err) {\n      console.log(err);\n    });\n  }, [dispatch]);\n\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 12\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.wrapper,\n        children: [/*#__PURE__*/_jsxDEV(Nav, {\n          title: \"Reward\",\n          color: \"white\",\n          noBack: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.main,\n          children: [/*#__PURE__*/_jsxDEV(Card, {\n            style: {\n              borderRadius: \"6px\",\n              marginTop: \"20px\"\n            },\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              href: \"/reward/benefits\",\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                style: {\n                  textDecoration: \"none\"\n                },\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: styles.reward_grid2,\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: styles.add_reward,\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      style: {\n                        marginTop: \"-11px\"\n                      },\n                      children: /*#__PURE__*/_jsxDEV(\"img\", {\n                        src: \"/alert-circle.svg\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 105,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 104,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 103,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      fontSize: \"16px\",\n                      fontWeight: \"600\",\n                      color: \"#FEB800\"\n                    },\n                    children: [\"Benefits\", /*#__PURE__*/_jsxDEV(\"div\", {\n                      style: {\n                        color: \"#B9B9C3\",\n                        fontWeight: \"300\",\n                        fontSize: \"13px\"\n                      },\n                      children: \"See you benefits here\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 116,\n                      columnNumber: 23\n                    }, this), \" \"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 108,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      textAlign: \"center\"\n                    },\n                    children: /*#__PURE__*/_jsxDEV(\"img\", {\n                      src: \"/next.svg\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 127,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 126,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 102,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 101,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Card, {\n            style: {\n              borderRadius: \"6px\",\n              marginTop: \"20px\"\n            },\n            children: /*#__PURE__*/_jsxDEV(Line, {\n              data: data,\n              options: options\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Card, {\n            style: {\n              borderRadius: \"6px\",\n              marginTop: \"20px\",\n              padding: \"15px\",\n              color: \"#5E5873\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    marginRight: \"5px\"\n                  },\n                  onClick: function onClick() {\n                    if (moment(now).format(\"MMMM YYYY\") !== moment().subtract(1, \"years\").format(\"MMMM YYYY\")) {\n                      setNow(moment(now).subtract(1, \"months\"));\n                    }\n                  },\n                  children: moment(now).format(\"MMMM YYYY\") !== moment().subtract(1, \"years\").format(\"MMMM YYYY\") ? /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: \"/cev_left.svg\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 159,\n                    columnNumber: 23\n                  }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n                    style: {\n                      height: \"20px\"\n                    },\n                    src: \"/chev_left_gray.svg\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 161,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 146,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: moment(now).format(\"MMMM YYYY\")\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 167,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    marginLeft: \"5px\"\n                  },\n                  onClick: function onClick() {\n                    if (moment().format(\"MMMM YYYY\") !== moment(now).format(\"MMMM YYYY\")) {\n                      setNow(moment(now).add(1, \"months\"));\n                    }\n                  },\n                  children: moment().format(\"MMMM YYYY\") !== moment(now).format(\"MMMM YYYY\") ? /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: \"/next.svg\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 181,\n                    columnNumber: 23\n                  }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n                    style: {\n                      height: \"20px\"\n                    },\n                    src: \"/chev_right_gray.svg\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 183,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 168,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 145,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: \"24px\",\n                fontWeight: \"700\",\n                color: \"#41867a\"\n              },\n              children: \"800.000 IDR\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Card, {\n            style: {\n              borderRadius: \"6px\",\n              marginTop: \"20px\",\n              padding: \"15px\",\n              color: \"#5E5873\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontWeight: \"700\"\n              },\n              children: [\"KPI Incentive Monthly ( \", moment(now).format(\"MMMM YYYY\"), \" )\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TabelLastDataIncentive, {\n              data: dataKpi\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: \"120px\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(BotNav, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  }\n}\n\n_s(Announcement, \"tjpL5H/fnqw0H6L1K0UYQuHIpkw=\");\n\n_c = Announcement;\n\nvar _c;\n\n$RefreshReg$(_c, \"Announcement\");","map":{"version":3,"sources":["C:/Users/Rico/Desktop/Home/Kalbe app/sakamor-new/pages/reward/index.jsx"],"names":["React","useState","useEffect","useContext","styles","Link","Stores","getAllAnnouncement","getIncentiveYearly","getKpiInventiveMonthlySMR","moment","BotNav","Nav","Card","Line","Spinner","TabelLastDataIncentive","Announcement","state","dispatch","actions","dataKpi","setDataKpi","loading","setLoading","dataGraph","setDataGraph","Date","now","setNow","data","labels","datasets","label","fill","backgroundColor","borderColor","options","scales","yAxes","ticks","beginAtZero","tooltips","enabled","hover","mode","userData","JSON","parse","localStorage","getItem","then","sort","a","b","bulan","yearlyIncentive","map","val","totalInsentif","err","console","log","wrapper","main","borderRadius","marginTop","textDecoration","reward_grid2","add_reward","fontSize","fontWeight","color","textAlign","padding","marginRight","format","subtract","height","marginLeft","add","marginBottom"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\r\nimport styles from \"../../styles/pages/Reward.module.css\";\r\nimport Link from \"next/link\";\r\nimport { Stores } from \"../../store\";\r\nimport {\r\n  getAllAnnouncement,\r\n  getIncentiveYearly,\r\n  getKpiInventiveMonthlySMR,\r\n} from \"../../helper\";\r\nimport moment from \"moment\";\r\nimport BotNav from \"../../components/BotNav\";\r\nimport Nav from \"../../components/Nav\";\r\nimport Card from \"../../components/Card\";\r\nimport { Line } from \"react-chartjs-2\";\r\n\r\nimport Spinner from \"../../components/Spinner\";\r\nimport TabelLastDataIncentive from \"../../components/TableLastDataIncentive\";\r\n\r\nexport default function Announcement() {\r\n  const { state, dispatch, actions } = useContext(Stores);\r\n  const [dataKpi, setDataKpi] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [dataGraph, setDataGraph] = useState([]);\r\n  const [now, setNow] = useState(new Date());\r\n\r\n  const data = {\r\n    labels: [\r\n      \"Jan\",\r\n      \"Feb\",\r\n      \"Mar\",\r\n      \"Apr\",\r\n      \"May\",\r\n      \"June\",\r\n      \"July\",\r\n      \"Aug\",\r\n      \"Sept\",\r\n      \"Oct\",\r\n      \"Nov\",\r\n      \"Dec\",\r\n    ],\r\n    datasets: [\r\n      {\r\n        label: \"Last Data Insentive\",\r\n        data: dataGraph,\r\n        fill: false,\r\n        backgroundColor: \"rgb(65, 134, 122)\",\r\n        borderColor: \"rgba(65, 134, 122, 0.2)\",\r\n      },\r\n    ],\r\n  };\r\n\r\n  const options = {\r\n    scales: {\r\n      yAxes: [\r\n        {\r\n          ticks: {\r\n            beginAtZero: true,\r\n          },\r\n        },\r\n      ],\r\n    },\r\n    tooltips: { enabled: false },\r\n    hover: { mode: null },\r\n  };\r\n\r\n  useEffect(() => {\r\n    const userData = JSON.parse(localStorage.getItem(\"user\"));\r\n    getKpiInventiveMonthlySMR(userData)\r\n      .then((dataKpi) => {\r\n        setDataKpi(dataKpi);\r\n        getIncentiveYearly(userData)\r\n          .then((data) => {\r\n            data.sort(function (a, b) {\r\n              return a.bulan - b.bulan;\r\n            });\r\n            var yearlyIncentive = data.map((val) => {\r\n              return val.totalInsentif;\r\n            });\r\n            setDataGraph(yearlyIncentive);\r\n            setLoading(false);\r\n          })\r\n          .catch((err) => {\r\n            console.log(err);\r\n          });\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }, [dispatch]);\r\n\r\n  if (loading) {\r\n    return <Spinner />;\r\n  } else {\r\n    return (\r\n      <>\r\n        <div className={styles.wrapper}>\r\n          <Nav title={\"Reward\"} color={\"white\"} noBack />\r\n          <div className={styles.main}>\r\n            <Card style={{ borderRadius: \"6px\", marginTop: \"20px\" }}>\r\n              <Link href=\"/reward/benefits\">\r\n                <a style={{ textDecoration: \"none\" }}>\r\n                  <div className={styles.reward_grid2}>\r\n                    <div className={styles.add_reward}>\r\n                      <div style={{ marginTop: \"-11px\" }}>\r\n                        <img src={\"/alert-circle.svg\"} />\r\n                      </div>\r\n                    </div>\r\n                    <div\r\n                      style={{\r\n                        fontSize: \"16px\",\r\n                        fontWeight: \"600\",\r\n                        color: \"#FEB800\",\r\n                      }}\r\n                    >\r\n                      Benefits\r\n                      <div\r\n                        style={{\r\n                          color: \"#B9B9C3\",\r\n                          fontWeight: \"300\",\r\n                          fontSize: \"13px\",\r\n                        }}\r\n                      >\r\n                        See you benefits here\r\n                      </div>{\" \"}\r\n                    </div>\r\n                    <div style={{ textAlign: \"center\" }}>\r\n                      <img src={\"/next.svg\"} />\r\n                    </div>\r\n                  </div>\r\n                </a>\r\n              </Link>\r\n            </Card>\r\n            <Card style={{ borderRadius: \"6px\", marginTop: \"20px\" }}>\r\n              <Line data={data} options={options} />\r\n            </Card>\r\n            <Card\r\n              style={{\r\n                borderRadius: \"6px\",\r\n                marginTop: \"20px\",\r\n                padding: \"15px\",\r\n                color: \"#5E5873\",\r\n              }}\r\n            >\r\n              <div>\r\n                <div>\r\n                  <span\r\n                    style={{ marginRight: \"5px\" }}\r\n                    onClick={() => {\r\n                      if (\r\n                        moment(now).format(\"MMMM YYYY\") !==\r\n                        moment().subtract(1, \"years\").format(\"MMMM YYYY\")\r\n                      ) {\r\n                        setNow(moment(now).subtract(1, \"months\"));\r\n                      }\r\n                    }}\r\n                  >\r\n                    {moment(now).format(\"MMMM YYYY\") !==\r\n                    moment().subtract(1, \"years\").format(\"MMMM YYYY\") ? (\r\n                      <img src={\"/cev_left.svg\"} />\r\n                    ) : (\r\n                      <img\r\n                        style={{ height: \"20px\" }}\r\n                        src={\"/chev_left_gray.svg\"}\r\n                      />\r\n                    )}\r\n                  </span>\r\n                  <span>{moment(now).format(\"MMMM YYYY\")}</span>\r\n                  <span\r\n                    style={{ marginLeft: \"5px\" }}\r\n                    onClick={() => {\r\n                      if (\r\n                        moment().format(\"MMMM YYYY\") !==\r\n                        moment(now).format(\"MMMM YYYY\")\r\n                      ) {\r\n                        setNow(moment(now).add(1, \"months\"));\r\n                      }\r\n                    }}\r\n                  >\r\n                    {moment().format(\"MMMM YYYY\") !==\r\n                    moment(now).format(\"MMMM YYYY\") ? (\r\n                      <img src={\"/next.svg\"} />\r\n                    ) : (\r\n                      <img\r\n                        style={{ height: \"20px\" }}\r\n                        src={\"/chev_right_gray.svg\"}\r\n                      />\r\n                    )}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n              <div\r\n                style={{\r\n                  fontSize: \"24px\",\r\n                  fontWeight: \"700\",\r\n                  color: \"#41867a\",\r\n                }}\r\n              >\r\n                800.000 IDR\r\n              </div>\r\n            </Card>\r\n            <Card\r\n              style={{\r\n                borderRadius: \"6px\",\r\n                marginTop: \"20px\",\r\n                padding: \"15px\",\r\n                color: \"#5E5873\",\r\n              }}\r\n            >\r\n              <div style={{ fontWeight: \"700\" }}>\r\n                KPI Incentive Monthly ( {moment(now).format(\"MMMM YYYY\")} )\r\n              </div>\r\n              <TabelLastDataIncentive data={dataKpi} />\r\n            </Card>\r\n            <div style={{ marginBottom: \"120px\" }} />\r\n          </div>\r\n        </div>\r\n        <BotNav />\r\n      </>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}