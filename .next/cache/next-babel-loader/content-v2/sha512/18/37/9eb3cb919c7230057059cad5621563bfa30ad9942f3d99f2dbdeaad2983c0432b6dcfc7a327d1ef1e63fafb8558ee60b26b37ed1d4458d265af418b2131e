{"ast":null,"code":"import { API_URL, API_MASTER, API_USER, API_VISIT_PLAN, TOKEN } from \"./constant\";\nvar now = new Date();\nvar date = now.getDate();\nvar month = now.getMonth() + 1;\nvar year = now.getFullYear();\n\nvar getMenu = function getMenu(userData) {\n  return fetch(API_URL + API_USER + \"/User/GetMenu?username=\".concat(userData.email), {\n    headers: {\n      apiKey: TOKEN\n    }\n  }).then(function (response) {\n    return response.json();\n  }).then(function (data) {\n    return data;\n  })[\"catch\"](function (err) {\n    console.log(err);\n  });\n};\n\nvar getPlanList = function getPlanList(userData) {\n  // return fetch(\n  //   API_URL +\n  //     API_VISIT_PLAN +\n  //     `/MasterVisitPlan/GetMasterVisitPlanBy?parameter=${year}-${month}-${date}`,\n  //   {\n  //     headers: {\n  //       apiKey: TOKEN,\n  //     },\n  //   }\n  // )\n  //   .then((response) => {\n  //     return response.json();\n  //   })\n  //   .then((data) => {\n  //     return data;\n  //   })\n  //   .catch((err) => {\n  //     console.log(err);\n  //   });\n  return fetch(API_URL + API_VISIT_PLAN + \"/ActivityVisitPlan/GetActivityVisitPlanBy?username=\".concat(userData.username), {\n    headers: {\n      apiKey: TOKEN\n    }\n  }).then(function (response) {\n    return response.json();\n  }).then(function (data) {\n    var res = data.filter(function (val) {\n      return val.isCheckOut === false;\n    });\n    return res;\n  })[\"catch\"](function (err) {\n    console.log(err);\n  });\n};\n\nvar getAuth = function getAuth(userData) {\n  return fetch(API_URL + API_USER + \"/User/GetAuthorize?username=\".concat(userData.username), {\n    headers: {\n      apiKey: TOKEN\n    }\n  }).then(function (response) {\n    return response.json();\n  }).then(function (data) {\n    return data;\n  })[\"catch\"](function (err) {\n    console.log(err);\n  });\n};\n\nvar onLogin = function onLogin(values) {\n  return fetch(API_URL + API_USER + \"/User/Login?username=\".concat(values.username, \"&&password=\").concat(values.password), {\n    method: \"POST\",\n    headers: {\n      apiKey: TOKEN\n    }\n  }).then(function (response) {\n    return response.json();\n  }).then(function (data) {\n    return data;\n  })[\"catch\"](function (err) {\n    console.log(err);\n    setWrongUser(true);\n  });\n};\n\nvar getPlanId = function getPlanId(id) {\n  return fetch(API_URL + API_VISIT_PLAN + \"/MasterVisitPlan/GetMasterVisitPlanBy?parameter=\".concat(year, \"-\").concat(month, \"-\").concat(date), {\n    headers: {\n      apiKey: TOKEN\n    }\n  }).then(function (response) {\n    return response.json();\n  }).then(function (planList) {\n    if (planList.length != 0) {\n      return fetch(API_URL + API_VISIT_PLAN + \"/MasterVisitPlan/GetMasterVisitPlanById/\".concat(id), {\n        headers: {\n          apiKey: TOKEN\n        }\n      }).then(function (response) {\n        return response.json();\n      }).then(function (data) {\n        var samePlan = planList.filter(function (val) {\n          return val.id === data.id;\n        });\n        return {\n          samePlan: samePlan,\n          data: data\n        };\n      })[\"catch\"](function (err) {\n        console.log(err);\n      });\n    } else {\n      return planList;\n    }\n  })[\"catch\"](function (err) {\n    console.log(err);\n  });\n};\n\nvar getPosm = function getPosm() {\n  return fetch(API_URL + API_VISIT_PLAN + \"/ActivityVisitPlanDPOSM/GetAllActivityVisitPlanDposm\", {\n    headers: {\n      apiKey: TOKEN\n    }\n  }).then(function (response) {\n    return response.json();\n  }).then(function (data) {\n    return data;\n  })[\"catch\"](function (err) {\n    console.log(err);\n  });\n};\n\nvar getProductSearch = function getProductSearch(search) {\n  return fetch(API_URL + API_MASTER + \"/MasterData/GetProdukLike/\".concat(search), {\n    headers: {\n      apiKey: TOKEN\n    }\n  }).then(function (response) {\n    return response.json();\n  }).then(function (data) {\n    return data;\n  })[\"catch\"](function (err) {\n    console.log(err);\n  });\n};\n\nvar getPlanHistory = function getPlanHistory(userData) {\n  return fetch(API_URL + API_VISIT_PLAN + \"/ActivityVisitPlan/GetActivityVisitPlanBy?username=\".concat(userData.username), {\n    headers: {\n      apiKey: TOKEN\n    }\n  }).then(function (response) {\n    return response.json();\n  }).then(function (data) {\n    var res = data.filter(function (val) {\n      return val.isCheckOut === true;\n    });\n    return res;\n  })[\"catch\"](function (err) {\n    console.log(err);\n  });\n};\n\nvar submitVisitPlan = function submitVisitPlan(data) {\n  console.log(JSON.stringify(data));\n  var exp = {\n    avp: {\n      id: \"3fa85f64-5717-4562-b3fc-2c963f66afa6\",\n      idMasterPlanVisit: \"3fa85f64-5717-4562-b3fc-2c963f66afa6\",\n      nomorDokumen: \"string\",\n      catatan: \"string\",\n      isCheckIn: true,\n      checkInDate: \"2021-04-05T10:33:57.451Z\",\n      isCheckOut: true,\n      checkOutDate: \"2021-04-05T10:33:57.451Z\",\n      createdBy: \"string\",\n      updatedBy: \"string\"\n    },\n    dposmList: [{\n      id: \"3fa85f64-5717-4562-b3fc-2c963f66afa6\",\n      activityVisitPlanId: \"3fa85f64-5717-4562-b3fc-2c963f66afa6\",\n      nomorDokumen: \"string\",\n      nomor: 0,\n      tipe: \"string\",\n      namaFile: \"string\",\n      createdBy: \"string\",\n      updatedBy: \"string\"\n    }, {\n      id: \"3fa85f64-5717-4562-b3fc-2c963f66afa6\",\n      activityVisitPlanId: \"3fa85f64-5717-4562-b3fc-2c963f66afa6\",\n      nomorDokumen: \"string\",\n      nomor: 0,\n      tipe: \"string\",\n      namaFile: \"string\",\n      createdBy: \"string\",\n      updatedBy: \"string\"\n    }, {\n      id: \"3fa85f64-5717-4562-b3fc-2c963f66afa6\",\n      activityVisitPlanId: \"3fa85f64-5717-4562-b3fc-2c963f66afa6\",\n      nomorDokumen: \"string\",\n      nomor: 0,\n      tipe: \"string\",\n      namaFile: \"string\",\n      createdBy: \"string\",\n      updatedBy: \"string\"\n    }, {\n      id: \"3fa85f64-5717-4562-b3fc-2c963f66afa6\",\n      activityVisitPlanId: \"3fa85f64-5717-4562-b3fc-2c963f66afa6\",\n      nomorDokumen: \"string\",\n      nomor: 0,\n      tipe: \"string\",\n      namaFile: \"string\",\n      createdBy: \"string\",\n      updatedBy: \"string\"\n    }, {\n      id: \"3fa85f64-5717-4562-b3fc-2c963f66afa6\",\n      activityVisitPlanId: \"3fa85f64-5717-4562-b3fc-2c963f66afa6\",\n      nomorDokumen: \"string\",\n      nomor: 0,\n      tipe: \"string\",\n      namaFile: \"string\",\n      createdBy: \"string\",\n      updatedBy: \"string\"\n    }, {\n      id: \"3fa85f64-5717-4562-b3fc-2c963f66afa6\",\n      activityVisitPlanId: \"3fa85f64-5717-4562-b3fc-2c963f66afa6\",\n      nomorDokumen: \"string\",\n      nomor: 0,\n      tipe: \"string\",\n      namaFile: \"string\",\n      createdBy: \"string\",\n      updatedBy: \"string\"\n    }],\n    dProductList: [{\n      id: \"3fa85f64-5717-4562-b3fc-2c963f66afa6\",\n      activityVisitPlanId: \"3fa85f64-5717-4562-b3fc-2c963f66afa6\",\n      nomorDokumen: \"string\",\n      nomor: 0,\n      kodeProduk: \"string\",\n      namaProduk: \"string\",\n      stok: 0,\n      saranOrder: 0,\n      jumlahOrder: 0,\n      createdBy: \"string\",\n      updatedBy: \"string\"\n    }, {\n      id: \"3fa85f64-5717-4562-b3fc-2c963f66afa6\",\n      activityVisitPlanId: \"3fa85f64-5717-4562-b3fc-2c963f66afa6\",\n      nomorDokumen: \"string\",\n      nomor: 0,\n      kodeProduk: \"string\",\n      namaProduk: \"string\",\n      stok: 0,\n      saranOrder: 0,\n      jumlahOrder: 0,\n      createdBy: \"string\",\n      updatedBy: \"string\"\n    }, {\n      id: \"3fa85f64-5717-4562-b3fc-2c963f66afa6\",\n      activityVisitPlanId: \"3fa85f64-5717-4562-b3fc-2c963f66afa6\",\n      nomorDokumen: \"string\",\n      nomor: 0,\n      kodeProduk: \"string\",\n      namaProduk: \"string\",\n      stok: 0,\n      saranOrder: 0,\n      jumlahOrder: 0,\n      createdBy: \"string\",\n      updatedBy: \"string\"\n    }, {\n      id: \"3fa85f64-5717-4562-b3fc-2c963f66afa6\",\n      activityVisitPlanId: \"3fa85f64-5717-4562-b3fc-2c963f66afa6\",\n      nomorDokumen: \"string\",\n      nomor: 0,\n      kodeProduk: \"string\",\n      namaProduk: \"string\",\n      stok: 0,\n      saranOrder: 0,\n      jumlahOrder: 0,\n      createdBy: \"string\",\n      updatedBy: \"string\"\n    }]\n  };\n  return fetch(API_URL + API_VISIT_PLAN + \"/ActivityVisitPlan/SaveAllActivityVisitPlan\", {\n    method: \"POST\",\n    headers: {\n      apiKey: TOKEN,\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(exp)\n  }).then(function (response) {\n    return response.json();\n  }).then(function (data) {\n    return data;\n  })[\"catch\"](function (err) {\n    console.log(err);\n  });\n};\n\nexport { getMenu, getPlanList, getAuth, onLogin, getPlanId, getPosm, getProductSearch, getPlanHistory, submitVisitPlan };","map":{"version":3,"sources":["C:/Users/Rico/Desktop/Home/Kalbe app/sakamor-new/helper.js"],"names":["API_URL","API_MASTER","API_USER","API_VISIT_PLAN","TOKEN","now","Date","date","getDate","month","getMonth","year","getFullYear","getMenu","userData","fetch","email","headers","apiKey","then","response","json","data","err","console","log","getPlanList","username","res","filter","val","isCheckOut","getAuth","onLogin","values","password","method","setWrongUser","getPlanId","id","planList","length","samePlan","getPosm","getProductSearch","search","getPlanHistory","submitVisitPlan","JSON","stringify","exp","avp","idMasterPlanVisit","nomorDokumen","catatan","isCheckIn","checkInDate","checkOutDate","createdBy","updatedBy","dposmList","activityVisitPlanId","nomor","tipe","namaFile","dProductList","kodeProduk","namaProduk","stok","saranOrder","jumlahOrder","Accept","body"],"mappings":"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","sourcesContent":["import {\r\n  API_URL,\r\n  API_MASTER,\r\n  API_USER,\r\n  API_VISIT_PLAN,\r\n  TOKEN,\r\n} from \"./constant\";\r\n\r\nvar now = new Date();\r\nvar date = now.getDate();\r\nvar month = now.getMonth() + 1;\r\nvar year = now.getFullYear();\r\n\r\nconst getMenu = (userData) => {\r\n  return fetch(\r\n    API_URL + API_USER + `/User/GetMenu?username=${userData.email}`,\r\n    {\r\n      headers: {\r\n        apiKey: TOKEN,\r\n      },\r\n    }\r\n  )\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .then((data) => {\r\n      return data;\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n};\r\nconst getPlanList = (userData) => {\r\n  // return fetch(\r\n  //   API_URL +\r\n  //     API_VISIT_PLAN +\r\n  //     `/MasterVisitPlan/GetMasterVisitPlanBy?parameter=${year}-${month}-${date}`,\r\n  //   {\r\n  //     headers: {\r\n  //       apiKey: TOKEN,\r\n  //     },\r\n  //   }\r\n  // )\r\n  //   .then((response) => {\r\n  //     return response.json();\r\n  //   })\r\n  //   .then((data) => {\r\n  //     return data;\r\n  //   })\r\n  //   .catch((err) => {\r\n  //     console.log(err);\r\n  //   });\r\n  return fetch(\r\n    API_URL +\r\n      API_VISIT_PLAN +\r\n      `/ActivityVisitPlan/GetActivityVisitPlanBy?username=${userData.username}`,\r\n    {\r\n      headers: {\r\n        apiKey: TOKEN,\r\n      },\r\n    }\r\n  )\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .then((data) => {\r\n      var res = data.filter((val) => {\r\n        return val.isCheckOut === false;\r\n      });\r\n      return res;\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n};\r\n\r\nconst getAuth = (userData) => {\r\n  return fetch(\r\n    API_URL + API_USER + `/User/GetAuthorize?username=${userData.username}`,\r\n    {\r\n      headers: {\r\n        apiKey: TOKEN,\r\n      },\r\n    }\r\n  )\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .then((data) => {\r\n      return data;\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n};\r\n\r\nconst onLogin = (values) => {\r\n  return fetch(\r\n    API_URL +\r\n      API_USER +\r\n      `/User/Login?username=${values.username}&&password=${values.password}`,\r\n    {\r\n      method: \"POST\",\r\n      headers: {\r\n        apiKey: TOKEN,\r\n      },\r\n    }\r\n  )\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .then((data) => {\r\n      return data;\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n      setWrongUser(true);\r\n    });\r\n};\r\n\r\nconst getPlanId = (id) => {\r\n  return fetch(\r\n    API_URL +\r\n      API_VISIT_PLAN +\r\n      `/MasterVisitPlan/GetMasterVisitPlanBy?parameter=${year}-${month}-${date}`,\r\n    {\r\n      headers: {\r\n        apiKey: TOKEN,\r\n      },\r\n    }\r\n  )\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .then((planList) => {\r\n      if (planList.length != 0) {\r\n        return fetch(\r\n          API_URL +\r\n            API_VISIT_PLAN +\r\n            `/MasterVisitPlan/GetMasterVisitPlanById/${id}`,\r\n          {\r\n            headers: {\r\n              apiKey: TOKEN,\r\n            },\r\n          }\r\n        )\r\n          .then((response) => {\r\n            return response.json();\r\n          })\r\n          .then((data) => {\r\n            var samePlan = planList.filter((val) => {\r\n              return val.id === data.id;\r\n            });\r\n\r\n            return { samePlan, data };\r\n          })\r\n          .catch((err) => {\r\n            console.log(err);\r\n          });\r\n      } else {\r\n        return planList;\r\n      }\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n};\r\n\r\nconst getPosm = () => {\r\n  return fetch(\r\n    API_URL +\r\n      API_VISIT_PLAN +\r\n      `/ActivityVisitPlanDPOSM/GetAllActivityVisitPlanDposm`,\r\n    {\r\n      headers: {\r\n        apiKey: TOKEN,\r\n      },\r\n    }\r\n  )\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .then((data) => {\r\n      return data;\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n};\r\n\r\nconst getProductSearch = (search) => {\r\n  return fetch(API_URL + API_MASTER + `/MasterData/GetProdukLike/${search}`, {\r\n    headers: {\r\n      apiKey: TOKEN,\r\n    },\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .then((data) => {\r\n      return data;\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n};\r\n\r\nconst getPlanHistory = (userData) => {\r\n  return fetch(\r\n    API_URL +\r\n      API_VISIT_PLAN +\r\n      `/ActivityVisitPlan/GetActivityVisitPlanBy?username=${userData.username}`,\r\n    {\r\n      headers: {\r\n        apiKey: TOKEN,\r\n      },\r\n    }\r\n  )\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .then((data) => {\r\n      var res = data.filter((val) => {\r\n        return val.isCheckOut === true;\r\n      });\r\n      return res;\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n};\r\n\r\nconst submitVisitPlan = (data) => {\r\n  console.log(JSON.stringify(data));\r\n  var exp = {\r\n    avp: {\r\n      id: \"3fa85f64-5717-4562-b3fc-2c963f66afa6\",\r\n      idMasterPlanVisit: \"3fa85f64-5717-4562-b3fc-2c963f66afa6\",\r\n      nomorDokumen: \"string\",\r\n      catatan: \"string\",\r\n      isCheckIn: true,\r\n      checkInDate: \"2021-04-05T10:33:57.451Z\",\r\n      isCheckOut: true,\r\n      checkOutDate: \"2021-04-05T10:33:57.451Z\",\r\n      createdBy: \"string\",\r\n      updatedBy: \"string\",\r\n    },\r\n    dposmList: [\r\n      {\r\n        id: \"3fa85f64-5717-4562-b3fc-2c963f66afa6\",\r\n        activityVisitPlanId: \"3fa85f64-5717-4562-b3fc-2c963f66afa6\",\r\n        nomorDokumen: \"string\",\r\n        nomor: 0,\r\n        tipe: \"string\",\r\n        namaFile: \"string\",\r\n        createdBy: \"string\",\r\n        updatedBy: \"string\",\r\n      },\r\n      {\r\n        id: \"3fa85f64-5717-4562-b3fc-2c963f66afa6\",\r\n        activityVisitPlanId: \"3fa85f64-5717-4562-b3fc-2c963f66afa6\",\r\n        nomorDokumen: \"string\",\r\n        nomor: 0,\r\n        tipe: \"string\",\r\n        namaFile: \"string\",\r\n        createdBy: \"string\",\r\n        updatedBy: \"string\",\r\n      },\r\n      {\r\n        id: \"3fa85f64-5717-4562-b3fc-2c963f66afa6\",\r\n        activityVisitPlanId: \"3fa85f64-5717-4562-b3fc-2c963f66afa6\",\r\n        nomorDokumen: \"string\",\r\n        nomor: 0,\r\n        tipe: \"string\",\r\n        namaFile: \"string\",\r\n        createdBy: \"string\",\r\n        updatedBy: \"string\",\r\n      },\r\n      {\r\n        id: \"3fa85f64-5717-4562-b3fc-2c963f66afa6\",\r\n        activityVisitPlanId: \"3fa85f64-5717-4562-b3fc-2c963f66afa6\",\r\n        nomorDokumen: \"string\",\r\n        nomor: 0,\r\n        tipe: \"string\",\r\n        namaFile: \"string\",\r\n        createdBy: \"string\",\r\n        updatedBy: \"string\",\r\n      },\r\n      {\r\n        id: \"3fa85f64-5717-4562-b3fc-2c963f66afa6\",\r\n        activityVisitPlanId: \"3fa85f64-5717-4562-b3fc-2c963f66afa6\",\r\n        nomorDokumen: \"string\",\r\n        nomor: 0,\r\n        tipe: \"string\",\r\n        namaFile: \"string\",\r\n        createdBy: \"string\",\r\n        updatedBy: \"string\",\r\n      },\r\n      {\r\n        id: \"3fa85f64-5717-4562-b3fc-2c963f66afa6\",\r\n        activityVisitPlanId: \"3fa85f64-5717-4562-b3fc-2c963f66afa6\",\r\n        nomorDokumen: \"string\",\r\n        nomor: 0,\r\n        tipe: \"string\",\r\n        namaFile: \"string\",\r\n        createdBy: \"string\",\r\n        updatedBy: \"string\",\r\n      },\r\n    ],\r\n    dProductList: [\r\n      {\r\n        id: \"3fa85f64-5717-4562-b3fc-2c963f66afa6\",\r\n        activityVisitPlanId: \"3fa85f64-5717-4562-b3fc-2c963f66afa6\",\r\n        nomorDokumen: \"string\",\r\n        nomor: 0,\r\n        kodeProduk: \"string\",\r\n        namaProduk: \"string\",\r\n        stok: 0,\r\n        saranOrder: 0,\r\n        jumlahOrder: 0,\r\n        createdBy: \"string\",\r\n        updatedBy: \"string\",\r\n      },\r\n      {\r\n        id: \"3fa85f64-5717-4562-b3fc-2c963f66afa6\",\r\n        activityVisitPlanId: \"3fa85f64-5717-4562-b3fc-2c963f66afa6\",\r\n        nomorDokumen: \"string\",\r\n        nomor: 0,\r\n        kodeProduk: \"string\",\r\n        namaProduk: \"string\",\r\n        stok: 0,\r\n        saranOrder: 0,\r\n        jumlahOrder: 0,\r\n        createdBy: \"string\",\r\n        updatedBy: \"string\",\r\n      },\r\n      {\r\n        id: \"3fa85f64-5717-4562-b3fc-2c963f66afa6\",\r\n        activityVisitPlanId: \"3fa85f64-5717-4562-b3fc-2c963f66afa6\",\r\n        nomorDokumen: \"string\",\r\n        nomor: 0,\r\n        kodeProduk: \"string\",\r\n        namaProduk: \"string\",\r\n        stok: 0,\r\n        saranOrder: 0,\r\n        jumlahOrder: 0,\r\n        createdBy: \"string\",\r\n        updatedBy: \"string\",\r\n      },\r\n      {\r\n        id: \"3fa85f64-5717-4562-b3fc-2c963f66afa6\",\r\n        activityVisitPlanId: \"3fa85f64-5717-4562-b3fc-2c963f66afa6\",\r\n        nomorDokumen: \"string\",\r\n        nomor: 0,\r\n        kodeProduk: \"string\",\r\n        namaProduk: \"string\",\r\n        stok: 0,\r\n        saranOrder: 0,\r\n        jumlahOrder: 0,\r\n        createdBy: \"string\",\r\n        updatedBy: \"string\",\r\n      },\r\n    ],\r\n  };\r\n  return fetch(\r\n    API_URL + API_VISIT_PLAN + \"/ActivityVisitPlan/SaveAllActivityVisitPlan\",\r\n    {\r\n      method: \"POST\",\r\n      headers: {\r\n        apiKey: TOKEN,\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(exp),\r\n    }\r\n  )\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .then((data) => {\r\n      return data;\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n};\r\n\r\nexport {\r\n  getMenu,\r\n  getPlanList,\r\n  getAuth,\r\n  onLogin,\r\n  getPlanId,\r\n  getPosm,\r\n  getProductSearch,\r\n  getPlanHistory,\r\n  submitVisitPlan,\r\n};\r\n"]},"metadata":{},"sourceType":"module"}