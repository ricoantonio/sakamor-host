{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useState, useEffect, useContext } from \"react\";\nimport styles from \"../../styles/pages/Reward.module.css\";\nimport Link from \"next/link\";\nimport { Stores } from \"../../store\";\nimport { getAllAnnouncement, getKpiInventiveMonthlySMR } from \"../../helper\";\nimport moment from \"moment\";\nimport BotNav from \"../../components/BotNav\";\nimport Nav from \"../../components/Nav\";\nimport Card from \"../../components/Card\";\nimport { Line } from \"react-chartjs-2\";\nimport Spinner from \"../../components/Spinner\";\nimport TabelLastDataIncentive from \"../../components/TableLastDataIncentive\";\nexport default function Announcement() {\n  const {\n    state,\n    dispatch,\n    actions\n  } = useContext(Stores);\n  const {\n    0: dataKpi,\n    1: setDataKpi\n  } = useState([]);\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(true);\n  const {\n    0: now,\n    1: setNow\n  } = useState(new Date());\n  const data = {\n    labels: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"June\", \"July\", \"Aug\", \"Sept\", \"Oct\", \"Nov\", \"Dec\"],\n    datasets: [{\n      label: \"Last Data Insentive\",\n      data: [12, 19, 3, 5, 2, 3],\n      fill: false,\n      backgroundColor: \"rgb(65, 134, 122)\",\n      borderColor: \"rgba(65, 134, 122, 0.2)\"\n    }]\n  };\n  const options = {\n    scales: {\n      yAxes: [{\n        ticks: {\n          beginAtZero: true\n        }\n      }]\n    },\n    tooltips: {\n      enabled: false\n    },\n    hover: {\n      mode: null\n    }\n  };\n  useEffect(() => {\n    const userData = JSON.parse(localStorage.getItem(\"user\"));\n    getKpiInventiveMonthlySMR(userData).then(data => {\n      setDataKpi(data);\n      setLoading(false);\n    }).catch(err => {\n      console.log(err);\n    });\n  }, [dispatch]);\n\n  if (loading) {\n    return /*#__PURE__*/_jsx(Spinner, {});\n  } else {\n    return /*#__PURE__*/_jsxs(_Fragment, {\n      children: [/*#__PURE__*/_jsxs(\"div\", {\n        className: styles.wrapper,\n        children: [/*#__PURE__*/_jsx(Nav, {\n          title: \"Reward\",\n          color: \"white\",\n          noBack: true\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: styles.main,\n          children: [/*#__PURE__*/_jsx(Card, {\n            style: {\n              borderRadius: \"6px\",\n              marginTop: \"20px\"\n            },\n            children: /*#__PURE__*/_jsx(Link, {\n              href: \"/reward/benefits\",\n              children: /*#__PURE__*/_jsx(\"a\", {\n                style: {\n                  textDecoration: \"none\"\n                },\n                children: /*#__PURE__*/_jsxs(\"div\", {\n                  className: styles.reward_grid2,\n                  children: [/*#__PURE__*/_jsx(\"div\", {\n                    className: styles.add_reward,\n                    children: /*#__PURE__*/_jsx(\"div\", {\n                      style: {\n                        marginTop: \"-11px\"\n                      },\n                      children: /*#__PURE__*/_jsx(\"img\", {\n                        src: \"/alert-circle.svg\"\n                      })\n                    })\n                  }), /*#__PURE__*/_jsxs(\"div\", {\n                    style: {\n                      fontSize: \"16px\",\n                      fontWeight: \"600\",\n                      color: \"#FEB800\"\n                    },\n                    children: [\"Benefits\", /*#__PURE__*/_jsx(\"div\", {\n                      style: {\n                        color: \"#B9B9C3\",\n                        fontWeight: \"300\",\n                        fontSize: \"13px\"\n                      },\n                      children: \"See you benefits here\"\n                    }), \" \"]\n                  }), /*#__PURE__*/_jsx(\"div\", {\n                    style: {\n                      textAlign: \"center\"\n                    },\n                    children: /*#__PURE__*/_jsx(\"img\", {\n                      src: \"/next.svg\"\n                    })\n                  })]\n                })\n              })\n            })\n          }), /*#__PURE__*/_jsx(Card, {\n            style: {\n              borderRadius: \"6px\",\n              marginTop: \"20px\"\n            },\n            children: /*#__PURE__*/_jsx(Line, {\n              data: data,\n              options: options\n            })\n          }), /*#__PURE__*/_jsxs(Card, {\n            style: {\n              borderRadius: \"6px\",\n              marginTop: \"20px\",\n              padding: \"15px\",\n              color: \"#5E5873\"\n            },\n            children: [/*#__PURE__*/_jsx(\"div\", {\n              children: /*#__PURE__*/_jsxs(\"div\", {\n                children: [/*#__PURE__*/_jsx(\"span\", {\n                  style: {\n                    marginRight: \"5px\"\n                  },\n                  onClick: () => {\n                    if (moment(now).format(\"MMMM YYYY\") !== moment().subtract(1, \"years\").format(\"MMMM YYYY\")) {\n                      setNow(moment(now).subtract(1, \"months\"));\n                    }\n                  },\n                  children: moment(now).format(\"MMMM YYYY\") !== moment().subtract(1, \"years\").format(\"MMMM YYYY\") ? /*#__PURE__*/_jsx(\"img\", {\n                    src: \"/cev_left.svg\"\n                  }) : /*#__PURE__*/_jsx(\"img\", {\n                    style: {\n                      height: \"20px\"\n                    },\n                    src: \"/chev_left_gray.svg\"\n                  })\n                }), /*#__PURE__*/_jsx(\"span\", {\n                  children: moment(now).format(\"MMMM YYYY\")\n                }), /*#__PURE__*/_jsx(\"span\", {\n                  style: {\n                    marginLeft: \"5px\"\n                  },\n                  onClick: () => {\n                    if (moment().format(\"MMMM YYYY\") !== moment(now).format(\"MMMM YYYY\")) {\n                      setNow(moment(now).add(1, \"months\"));\n                    }\n                  },\n                  children: moment().format(\"MMMM YYYY\") !== moment(now).format(\"MMMM YYYY\") ? /*#__PURE__*/_jsx(\"img\", {\n                    src: \"/next.svg\"\n                  }) : /*#__PURE__*/_jsx(\"img\", {\n                    style: {\n                      height: \"20px\"\n                    },\n                    src: \"/chev_right_gray.svg\"\n                  })\n                })]\n              })\n            }), /*#__PURE__*/_jsx(\"div\", {\n              style: {\n                fontSize: \"24px\",\n                fontWeight: \"700\",\n                color: \"#41867a\"\n              },\n              children: \"800.000 IDR\"\n            })]\n          }), /*#__PURE__*/_jsxs(Card, {\n            style: {\n              borderRadius: \"6px\",\n              marginTop: \"20px\",\n              padding: \"15px\",\n              color: \"#5E5873\"\n            },\n            children: [/*#__PURE__*/_jsxs(\"div\", {\n              style: {\n                fontWeight: \"700\"\n              },\n              children: [\"KPI Incentive Monthly ( \", moment(now).format(\"MMMM YYYY\"), \" )\"]\n            }), /*#__PURE__*/_jsx(TabelLastDataIncentive, {\n              data: dataKpi\n            })]\n          }), /*#__PURE__*/_jsx(\"div\", {\n            style: {\n              marginBottom: \"120px\"\n            }\n          })]\n        })]\n      }), /*#__PURE__*/_jsx(BotNav, {})]\n    });\n  }\n}","map":null,"metadata":{},"sourceType":"module"}