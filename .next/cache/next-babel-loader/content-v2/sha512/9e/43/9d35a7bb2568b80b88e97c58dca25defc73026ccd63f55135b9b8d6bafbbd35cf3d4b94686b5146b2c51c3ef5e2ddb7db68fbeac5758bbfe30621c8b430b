{"ast":null,"code":"// import React, { useState, useContext, useEffect } from \"react\";\n// import Head from \"next/head\";\n// import styles from \"../styles/pages/Home.module.css\";\n// import Router from \"next/router\";\n// import Link from \"next/link\";\n// import { Stores } from \"../store\";\n// import Spinner from \"../components/Spinner\";\n// import BotNav from \"../components/BotNav\";\n// import Button from \"../components/Button\";\n// import Card from \"../components/Card\";\n// import { getAuth, getMenu, getPlanHistory, getPlanList } from \"../helper\";\n// import { Doughnut } from \"react-chartjs-2\";\n// import moment from \"moment\";\n// export default function Home() {\n//   const { state, dispatch, actions } = useContext(Stores);\n//   const [focus, setFocus] = useState(\"\");\n//   const [plan, setPlan] = useState([]);\n//   const [planHistory, setPlanHistory] = useState([]);\n//   const [spreadingHistory, setSpreadingHistory] = useState([]);\n//   const [unplanHistory, setUnplanHistory] = useState([]);\n//   const [role, setRole] = useState(\"\");\n//   const [topMenu, setTopMenu] = useState([]);\n//   const [loading, setLoading] = useState(true);\n//   const [loadingMenu, setLoadingMenu] = useState(true);\n//   const dataPlan = {\n//     datasets: [\n//       {\n//         data:\n//           planHistory.length === 0 ? [0, 1] : [planHistory.length, plan.length],\n//         backgroundColor: [\"#41867a\", \"#d1e4e1\"],\n//       },\n//     ],\n//   };\n//   const dataSpreading = {\n//     datasets: [\n//       {\n//         data: spreadingHistory.length === 0 ? [0, 1] : [0, 1],\n//         backgroundColor: [\"#41867a\", \"#d1e4e1\"],\n//       },\n//     ],\n//   };\n//   const donutOptions = {\n//     cutoutPercentage: 75,\n//     tooltips: { enabled: false },\n//     hover: { mode: null },\n//     responsive: true,\n//     maintainAspectRatio: true,\n//   };\n//   useEffect(() => {\n//     const userData = JSON.parse(localStorage.getItem(\"user\"));\n//     if (userData) {\n//       actions.userLogin(userData);\n//       getMenu(userData)\n//         .then((data) => {\n//           actions.setMenu(data);\n//           setTopMenu(data);\n//           setLoadingMenu(false);\n//         })\n//         .catch((err) => {\n//           console.log(err);\n//         });\n//     } else {\n//       Router.push(\"/\");\n//     }\n//   }, [dispatch]);\n//   useEffect(() => {\n//     const userData = JSON.parse(localStorage.getItem(\"user\"));\n//     if (userData) {\n//       getAuth(userData)\n//         .then((data) => {\n//           if (data[0].roleCode === \"PIMCA\") {\n//             setRole(\"PIMCA\");\n//             setFocus(\"WORK_VISIT\");\n//           } else if (data[0].roleCode === \"SMR\") {\n//             setRole(\"SMR\");\n//             setFocus(\"PLAN\");\n//           }\n//         })\n//         .catch((err) => {\n//           console.log(err);\n//         });\n//     } else {\n//       Router.push(\"/\");\n//     }\n//   }, [dispatch]);\n//   useEffect(() => {\n//     setLoading(true);\n//     const userData = JSON.parse(localStorage.getItem(\"user\"));\n//     if (userData) {\n//       if (focus === \"PLAN\") {\n//         getPlanList(userData)\n//           .then((data) => {\n//             setPlan(data);\n//             setLoading(false);\n//           })\n//           .catch((err) => {\n//             console.log(err);\n//           });\n//       } else if (focus === \"UNPLAN\") {\n//         console.log(\"unplan\");\n//         setLoading(false);\n//       } else if (focus === \"SPREADING\") {\n//         console.log(\"spreading\");\n//         setLoading(false);\n//       } else if (focus === \"WORK_VISIT\") {\n//         console.log(\"work visit\");\n//         setLoading(false);\n//       }\n//     } else {\n//       Router.push(\"/\");\n//     }\n//   }, [focus]);\n//   useEffect(() => {\n//     const userData = JSON.parse(localStorage.getItem(\"user\"));\n//     if (focus === \"PLAN\") {\n//       getPlanHistory(userData)\n//         .then((data) => {\n//           setPlanHistory(data);\n//           setLoading(false);\n//           // console.log(data);\n//         })\n//         .catch((err) => {\n//           console.log(err);\n//         });\n//     } else if (focus === \"UNPLAN\") {\n//       setLoading(false);\n//     } else if (focus === \"SPREADING\") {\n//       setLoading(false);\n//     }\n//   }, [focus]);\n//   const renderTopMenu = () => {\n//     var auth = topMenu.filter((val) => {\n//       if (role === \"SMR\") {\n//         return (\n//           val.moduleCode === \"PLAN\" ||\n//           val.moduleCode === \"UNPLAN\" ||\n//           val.moduleCode === \"SPREADING\"\n//         );\n//       } else if (role === \"PIMCA\") {\n//         return val.moduleCode === \"WORK-VISIT\";\n//       }\n//     });\n//     const render = () => {\n//       return auth.map((val, index) => {\n//         return (\n//           <div\n//             className={\n//               focus === val.moduleCode ? styles.focus_menu : styles.menu\n//             }\n//             onClick={() => {\n//               setFocus(val.moduleCode);\n//             }}\n//             key={index}\n//           >\n//             {val.moduleCode === \"PLAN\"\n//               ? \"Plan\"\n//               : val.moduleCode === \"UNPLAN\"\n//               ? \"Unplan\"\n//               : val.moduleCode === \"SPREADING\"\n//               ? \"Spreading\"\n//               : val.moduleCode === \"WORK-VISIT\"\n//               ? \"Work Visit\"\n//               : \"\"}\n//           </div>\n//         );\n//       });\n//     };\n//     if (auth) {\n//       return (\n//         <div\n//           className={\n//             auth.length === 3\n//               ? styles.menu_grid3\n//               : auth.length === 1\n//               ? styles.menu_grid1\n//               : \"\"\n//           }\n//         >\n//           {render()}\n//         </div>\n//       );\n//     }\n//   };\n//   const renderList = (type, data) => {\n//     if (data.length === 0) {\n//       return (\n//         <div\n//           style={{\n//             fontSize: \"15px\",\n//             color: \"rgb(208, 208, 208)\",\n//             textAlign: \"left\",\n//             margin: \"30px 0\",\n//           }}\n//         >\n//           No Item\n//         </div>\n//       );\n//     } else {\n//       return data.map((val, index) => {\n//         return (\n//           <div\n//             style={{\n//               fontSize: \"15px\",\n//               fontWeight: \"700\",\n//               color: \"#5E5873\",\n//               textAlign: \"left\",\n//               margin: \"10px 0\",\n//             }}\n//             key={index}\n//           >\n//             <div style={{ display: \"grid\", gridTemplateColumns: \"12% 88%\" }}>\n//               <div\n//                 style={{\n//                   width: \"20px\",\n//                   height: \"20px\",\n//                   backgroundColor: type === \"PLAN\" ? \"#FFF1CC\" : \"#d1e4e1\",\n//                   borderRadius: \"20px\",\n//                   padding: \"4px\",\n//                 }}\n//               >\n//                 <div\n//                   style={{\n//                     width: \"12px\",\n//                     height: \"12px\",\n//                     backgroundColor: type === \"PLAN\" ? \"#feb800\" : \"#41867a\",\n//                     borderRadius: \"20px\",\n//                   }}\n//                 />\n//               </div>\n//               <div>\n//                 <div>{val.namaOutlet}</div>\n//                 <div style={{ fontSize: \"14px\", fontWeight: \"300\" }}>\n//                   {val.alamatOutlet}\n//                 </div>\n//               </div>\n//             </div>\n//           </div>\n//         );\n//       });\n//     }\n//   };\n//   const renderPlan = () => {\n//     if (loading) {\n//       return <Spinner />;\n//     } else {\n//       return (\n//         <>\n//           <Card style={{ borderRadius: \"5px\", marginTop: \"22px\" }} shadow>\n//             <div className={styles.overview}>\n//               <div>\n//                 <span className={styles.date}>\n//                   {moment().format(\"D / MMM / YYYY\")}\n//                 </span>\n//                 <div style={{ color: \"#5E5873\", marginTop: \"7px\" }}>\n//                   <span style={{ fontSize: \"36px\", fontWeight: \"600\" }}>\n//                     {planHistory.length}\n//                   </span>\n//                   <span style={{ fontSize: \"18px\" }}>\n//                     /{plan.length + planHistory.length}\n//                   </span>\n//                 </div>\n//                 <button\n//                   style={{\n//                     marginTop: \"7px\",\n//                     backgroundColor: \"#FEB800\",\n//                     padding: \"10px 22px\",\n//                     fontSize: \"14px\",\n//                     fontWeight: \"400\",\n//                     color: \"#fff\",\n//                     border: \"none\",\n//                     borderRadius: \"5px\",\n//                   }}\n//                 >\n//                   Add New Plan +\n//                 </button>\n//               </div>\n//               <div>\n//                 <div className={styles.pie_percentage}>\n//                   {planHistory.length === 0\n//                     ? \"0%\"\n//                     : `${Math.round(\n//                         (planHistory.length /\n//                           (plan.length + planHistory.length)) *\n//                           100\n//                       )}%`}\n//                 </div>\n//                 <Doughnut\n//                   data={dataPlan}\n//                   options={donutOptions}\n//                   width={100}\n//                   height={100}\n//                 />\n//               </div>\n//             </div>\n//           </Card>\n//           <Card style={{ marginTop: \"22px\", borderRadius: \"30px\" }} shadow>\n//             <div className={styles.plan_container}>\n//               <div\n//                 style={{\n//                   fontSize: \"18px\",\n//                   fontWeight: \"500\",\n//                   color: \"#5E5873\",\n//                   textAlign: \"left\",\n//                 }}\n//               >\n//                 Your Plan Today\n//               </div>\n//               <div style={{ margin: \"22px 0\" }}>{renderList(\"PLAN\", plan)}</div>\n//               <Link href=\"/visit/plan\">\n//                 <a>\n//                   <Button text={\"See Details\"} />\n//                 </a>\n//               </Link>\n//             </div>\n//           </Card>\n//         </>\n//       );\n//     }\n//   };\n//   const renderSpreading = () => {\n//     if (loading) {\n//       return <Spinner />;\n//     } else {\n//       return (\n//         <>\n//           <Card style={{ borderRadius: \"5px\", marginTop: \"22px\" }} shadow>\n//             <div className={styles.overview}>\n//               <div>\n//                 <span className={styles.date}>\n//                   {moment().format(\"D / MMM / YYYY\")}\n//                 </span>\n//                 <div style={{ color: \"#5E5873\", marginTop: \"7px\" }}>\n//                   <span style={{ fontSize: \"36px\", fontWeight: \"600\" }}>0</span>\n//                   <span style={{ fontSize: \"18px\" }}>/{plan.length}</span>\n//                 </div>\n//                 <Link href={\"/visit/spreading/\"}>\n//                   <a>\n//                     <button\n//                       style={{\n//                         marginTop: \"7px\",\n//                         backgroundColor: \"#FEB800\",\n//                         padding: \"10px 22px\",\n//                         fontSize: \"14px\",\n//                         fontWeight: \"400\",\n//                         color: \"#fff\",\n//                         border: \"none\",\n//                         borderRadius: \"5px\",\n//                       }}\n//                     >\n//                       Add New NOO +\n//                     </button>\n//                   </a>\n//                 </Link>\n//               </div>\n//               <div>\n//                 <div className={styles.pie_percentage}>0%</div>\n//                 <Doughnut\n//                   data={dataSpreading}\n//                   options={donutOptions}\n//                   width={100}\n//                   height={100}\n//                 />\n//               </div>\n//             </div>\n//           </Card>\n//           <Card style={{ marginTop: \"22px\", borderRadius: \"30px\" }} shadow>\n//             <div className={styles.plan_container}>\n//               <div\n//                 style={{\n//                   fontSize: \"18px\",\n//                   fontWeight: \"500\",\n//                   color: \"#5E5873\",\n//                   textAlign: \"left\",\n//                 }}\n//               >\n//                 Spreading History\n//               </div>\n//               <div style={{ margin: \"22px 0\" }}>\n//                 {renderList(\"SPREADING\", spreadingHistory)}\n//               </div>\n//               <Link href=\"/visit/spreading/history\">\n//                 <a>\n//                   <Button text={\"See Details\"} />\n//                 </a>\n//               </Link>\n//             </div>\n//           </Card>\n//         </>\n//       );\n//     }\n//   };\n//   const renderUnplan = () => {\n//     if (loading) {\n//       return <Spinner />;\n//     } else {\n//       return (\n//         <>\n//           <Card style={{ borderRadius: \"5px\", marginTop: \"22px\" }} shadow>\n//             <div className={styles.unplan_grid}>\n//               <div className={styles.num_total_unplan}>5</div>\n//               <div style={{ fontSize: \"14px\" }}>Total Unplan Visit</div>\n//               <div className={styles.date}>{moment().format(\"MMMM\")}</div>\n//             </div>\n//           </Card>\n//           <Card style={{ borderRadius: \"5px\", marginTop: \"11px\" }} shadow>\n//             <Link href=\"/visit/unplan\">\n//               <a style={{ textDecoration: \"none\" }}>\n//                 <div className={styles.unplan_grid2}>\n//                   <div className={styles.add_unplan}>\n//                     <div style={{ marginTop: \"-8px\" }}>+</div>\n//                   </div>\n//                   <div style={{ fontSize: \"16px\", fontWeight: \"600\" }}>\n//                     Any Unplan Visit?\n//                     <div\n//                       style={{\n//                         color: \"#B9B9C3\",\n//                         fontWeight: \"300\",\n//                         fontSize: \"13px\",\n//                       }}\n//                     >\n//                       Add your unplan visit here\n//                     </div>{\" \"}\n//                   </div>\n//                   <div style={{ textAlign: \"center\" }}>\n//                     <img src={\"/next.svg\"} />\n//                   </div>\n//                 </div>\n//               </a>\n//             </Link>\n//           </Card>\n//           <Card style={{ marginTop: \"22px\", borderRadius: \"30px\" }} shadow>\n//             <div className={styles.plan_container}>\n//               <div\n//                 style={{\n//                   fontSize: \"18px\",\n//                   fontWeight: \"500\",\n//                   color: \"#5E5873\",\n//                   textAlign: \"left\",\n//                 }}\n//               >\n//                 Unplan Visit History\n//               </div>\n//               <div style={{ margin: \"22px 0\" }}>\n//                 {renderList(\"UNPLAN\", unplanHistory)}\n//               </div>\n//               <Link href=\"/visit/unplan/history\">\n//                 <a>\n//                   <Button text={\"See Details\"} />\n//                 </a>\n//               </Link>\n//             </div>\n//           </Card>\n//         </>\n//       );\n//     }\n//   };\n//   const renderWorkVisit = () => {};\n//   const renderPage = () => {\n//     if (loading && loadingMenu) {\n//       return <Spinner />;\n//     } else {\n//       return (\n//         <div>\n//           <Head>\n//             <title>Home</title>\n//             <link rel=\"icon\" href=\"/favicon.ico\" />\n//           </Head>\n//           <div className={styles.container}>\n//             <div className={styles.wrapper}>\n//               <div className={styles.bg_top} />\n//               <div className={styles.user_info_grid}>\n//                 <img className={styles.pp} src=\"/pp.png\" />\n//                 <div style={{ marginLeft: \"15px\" }}>\n//                   <div style={{ fontSize: \"14px\" }}>\n//                     {state.userReducer.user.name}\n//                   </div>\n//                   <div style={{ fontSize: \"12px\" }}>{role}</div>\n//                 </div>\n//                 <img className={styles.notif} src=\"/notif.svg\" />\n//                 <div className={styles.main}>\n//                   {renderTopMenu()}\n//                   {focus === \"PLAN\"\n//                     ? renderPlan()\n//                     : focus === \"UNPLAN\"\n//                     ? renderUnplan()\n//                     : focus === \"SPREADING\"\n//                     ? renderSpreading()\n//                     : focus === \"WORK-VISIT\"\n//                     ? renderWorkVisit()\n//                     : \"\"}\n//                   <div style={{ marginBottom: \"120px\" }} />\n//                 </div>\n//               </div>\n//             </div>\n//           </div>\n//         </div>\n//       );\n//     }\n//   };\n//   return renderPage();\n// }","map":{"version":3,"sources":["C:/Users/Rico/Desktop/Home/Kalbe app/sakamor-new/pages/index.jsx"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["// import React, { useState, useContext, useEffect } from \"react\";\n// import Head from \"next/head\";\n// import styles from \"../styles/pages/Home.module.css\";\n// import Router from \"next/router\";\n// import Link from \"next/link\";\n// import { Stores } from \"../store\";\n\n// import Spinner from \"../components/Spinner\";\n// import BotNav from \"../components/BotNav\";\n// import Button from \"../components/Button\";\n// import Card from \"../components/Card\";\n\n// import { getAuth, getMenu, getPlanHistory, getPlanList } from \"../helper\";\n\n// import { Doughnut } from \"react-chartjs-2\";\n// import moment from \"moment\";\n\n// export default function Home() {\n//   const { state, dispatch, actions } = useContext(Stores);\n//   const [focus, setFocus] = useState(\"\");\n//   const [plan, setPlan] = useState([]);\n//   const [planHistory, setPlanHistory] = useState([]);\n//   const [spreadingHistory, setSpreadingHistory] = useState([]);\n//   const [unplanHistory, setUnplanHistory] = useState([]);\n//   const [role, setRole] = useState(\"\");\n//   const [topMenu, setTopMenu] = useState([]);\n//   const [loading, setLoading] = useState(true);\n//   const [loadingMenu, setLoadingMenu] = useState(true);\n\n//   const dataPlan = {\n//     datasets: [\n//       {\n//         data:\n//           planHistory.length === 0 ? [0, 1] : [planHistory.length, plan.length],\n//         backgroundColor: [\"#41867a\", \"#d1e4e1\"],\n//       },\n//     ],\n//   };\n//   const dataSpreading = {\n//     datasets: [\n//       {\n//         data: spreadingHistory.length === 0 ? [0, 1] : [0, 1],\n//         backgroundColor: [\"#41867a\", \"#d1e4e1\"],\n//       },\n//     ],\n//   };\n//   const donutOptions = {\n//     cutoutPercentage: 75,\n//     tooltips: { enabled: false },\n//     hover: { mode: null },\n//     responsive: true,\n//     maintainAspectRatio: true,\n//   };\n\n//   useEffect(() => {\n//     const userData = JSON.parse(localStorage.getItem(\"user\"));\n//     if (userData) {\n//       actions.userLogin(userData);\n//       getMenu(userData)\n//         .then((data) => {\n//           actions.setMenu(data);\n//           setTopMenu(data);\n//           setLoadingMenu(false);\n//         })\n//         .catch((err) => {\n//           console.log(err);\n//         });\n//     } else {\n//       Router.push(\"/\");\n//     }\n//   }, [dispatch]);\n\n//   useEffect(() => {\n//     const userData = JSON.parse(localStorage.getItem(\"user\"));\n//     if (userData) {\n//       getAuth(userData)\n//         .then((data) => {\n//           if (data[0].roleCode === \"PIMCA\") {\n//             setRole(\"PIMCA\");\n//             setFocus(\"WORK_VISIT\");\n//           } else if (data[0].roleCode === \"SMR\") {\n//             setRole(\"SMR\");\n//             setFocus(\"PLAN\");\n//           }\n//         })\n//         .catch((err) => {\n//           console.log(err);\n//         });\n//     } else {\n//       Router.push(\"/\");\n//     }\n//   }, [dispatch]);\n\n//   useEffect(() => {\n//     setLoading(true);\n//     const userData = JSON.parse(localStorage.getItem(\"user\"));\n//     if (userData) {\n//       if (focus === \"PLAN\") {\n//         getPlanList(userData)\n//           .then((data) => {\n//             setPlan(data);\n//             setLoading(false);\n//           })\n//           .catch((err) => {\n//             console.log(err);\n//           });\n//       } else if (focus === \"UNPLAN\") {\n//         console.log(\"unplan\");\n//         setLoading(false);\n//       } else if (focus === \"SPREADING\") {\n//         console.log(\"spreading\");\n//         setLoading(false);\n//       } else if (focus === \"WORK_VISIT\") {\n//         console.log(\"work visit\");\n//         setLoading(false);\n//       }\n//     } else {\n//       Router.push(\"/\");\n//     }\n//   }, [focus]);\n\n//   useEffect(() => {\n//     const userData = JSON.parse(localStorage.getItem(\"user\"));\n\n//     if (focus === \"PLAN\") {\n//       getPlanHistory(userData)\n//         .then((data) => {\n//           setPlanHistory(data);\n//           setLoading(false);\n//           // console.log(data);\n//         })\n//         .catch((err) => {\n//           console.log(err);\n//         });\n//     } else if (focus === \"UNPLAN\") {\n//       setLoading(false);\n//     } else if (focus === \"SPREADING\") {\n//       setLoading(false);\n//     }\n//   }, [focus]);\n\n//   const renderTopMenu = () => {\n//     var auth = topMenu.filter((val) => {\n//       if (role === \"SMR\") {\n//         return (\n//           val.moduleCode === \"PLAN\" ||\n//           val.moduleCode === \"UNPLAN\" ||\n//           val.moduleCode === \"SPREADING\"\n//         );\n//       } else if (role === \"PIMCA\") {\n//         return val.moduleCode === \"WORK-VISIT\";\n//       }\n//     });\n\n//     const render = () => {\n//       return auth.map((val, index) => {\n//         return (\n//           <div\n//             className={\n//               focus === val.moduleCode ? styles.focus_menu : styles.menu\n//             }\n//             onClick={() => {\n//               setFocus(val.moduleCode);\n//             }}\n//             key={index}\n//           >\n//             {val.moduleCode === \"PLAN\"\n//               ? \"Plan\"\n//               : val.moduleCode === \"UNPLAN\"\n//               ? \"Unplan\"\n//               : val.moduleCode === \"SPREADING\"\n//               ? \"Spreading\"\n//               : val.moduleCode === \"WORK-VISIT\"\n//               ? \"Work Visit\"\n//               : \"\"}\n//           </div>\n//         );\n//       });\n//     };\n//     if (auth) {\n//       return (\n//         <div\n//           className={\n//             auth.length === 3\n//               ? styles.menu_grid3\n//               : auth.length === 1\n//               ? styles.menu_grid1\n//               : \"\"\n//           }\n//         >\n//           {render()}\n//         </div>\n//       );\n//     }\n//   };\n\n//   const renderList = (type, data) => {\n//     if (data.length === 0) {\n//       return (\n//         <div\n//           style={{\n//             fontSize: \"15px\",\n//             color: \"rgb(208, 208, 208)\",\n//             textAlign: \"left\",\n//             margin: \"30px 0\",\n//           }}\n//         >\n//           No Item\n//         </div>\n//       );\n//     } else {\n//       return data.map((val, index) => {\n//         return (\n//           <div\n//             style={{\n//               fontSize: \"15px\",\n//               fontWeight: \"700\",\n//               color: \"#5E5873\",\n//               textAlign: \"left\",\n//               margin: \"10px 0\",\n//             }}\n//             key={index}\n//           >\n//             <div style={{ display: \"grid\", gridTemplateColumns: \"12% 88%\" }}>\n//               <div\n//                 style={{\n//                   width: \"20px\",\n//                   height: \"20px\",\n//                   backgroundColor: type === \"PLAN\" ? \"#FFF1CC\" : \"#d1e4e1\",\n//                   borderRadius: \"20px\",\n//                   padding: \"4px\",\n//                 }}\n//               >\n//                 <div\n//                   style={{\n//                     width: \"12px\",\n//                     height: \"12px\",\n//                     backgroundColor: type === \"PLAN\" ? \"#feb800\" : \"#41867a\",\n//                     borderRadius: \"20px\",\n//                   }}\n//                 />\n//               </div>\n//               <div>\n//                 <div>{val.namaOutlet}</div>\n//                 <div style={{ fontSize: \"14px\", fontWeight: \"300\" }}>\n//                   {val.alamatOutlet}\n//                 </div>\n//               </div>\n//             </div>\n//           </div>\n//         );\n//       });\n//     }\n//   };\n\n//   const renderPlan = () => {\n//     if (loading) {\n//       return <Spinner />;\n//     } else {\n//       return (\n//         <>\n//           <Card style={{ borderRadius: \"5px\", marginTop: \"22px\" }} shadow>\n//             <div className={styles.overview}>\n//               <div>\n//                 <span className={styles.date}>\n//                   {moment().format(\"D / MMM / YYYY\")}\n//                 </span>\n//                 <div style={{ color: \"#5E5873\", marginTop: \"7px\" }}>\n//                   <span style={{ fontSize: \"36px\", fontWeight: \"600\" }}>\n//                     {planHistory.length}\n//                   </span>\n//                   <span style={{ fontSize: \"18px\" }}>\n//                     /{plan.length + planHistory.length}\n//                   </span>\n//                 </div>\n//                 <button\n//                   style={{\n//                     marginTop: \"7px\",\n//                     backgroundColor: \"#FEB800\",\n//                     padding: \"10px 22px\",\n//                     fontSize: \"14px\",\n//                     fontWeight: \"400\",\n//                     color: \"#fff\",\n//                     border: \"none\",\n//                     borderRadius: \"5px\",\n//                   }}\n//                 >\n//                   Add New Plan +\n//                 </button>\n//               </div>\n//               <div>\n//                 <div className={styles.pie_percentage}>\n//                   {planHistory.length === 0\n//                     ? \"0%\"\n//                     : `${Math.round(\n//                         (planHistory.length /\n//                           (plan.length + planHistory.length)) *\n//                           100\n//                       )}%`}\n//                 </div>\n//                 <Doughnut\n//                   data={dataPlan}\n//                   options={donutOptions}\n//                   width={100}\n//                   height={100}\n//                 />\n//               </div>\n//             </div>\n//           </Card>\n//           <Card style={{ marginTop: \"22px\", borderRadius: \"30px\" }} shadow>\n//             <div className={styles.plan_container}>\n//               <div\n//                 style={{\n//                   fontSize: \"18px\",\n//                   fontWeight: \"500\",\n//                   color: \"#5E5873\",\n//                   textAlign: \"left\",\n//                 }}\n//               >\n//                 Your Plan Today\n//               </div>\n//               <div style={{ margin: \"22px 0\" }}>{renderList(\"PLAN\", plan)}</div>\n//               <Link href=\"/visit/plan\">\n//                 <a>\n//                   <Button text={\"See Details\"} />\n//                 </a>\n//               </Link>\n//             </div>\n//           </Card>\n//         </>\n//       );\n//     }\n//   };\n\n//   const renderSpreading = () => {\n//     if (loading) {\n//       return <Spinner />;\n//     } else {\n//       return (\n//         <>\n//           <Card style={{ borderRadius: \"5px\", marginTop: \"22px\" }} shadow>\n//             <div className={styles.overview}>\n//               <div>\n//                 <span className={styles.date}>\n//                   {moment().format(\"D / MMM / YYYY\")}\n//                 </span>\n//                 <div style={{ color: \"#5E5873\", marginTop: \"7px\" }}>\n//                   <span style={{ fontSize: \"36px\", fontWeight: \"600\" }}>0</span>\n//                   <span style={{ fontSize: \"18px\" }}>/{plan.length}</span>\n//                 </div>\n//                 <Link href={\"/visit/spreading/\"}>\n//                   <a>\n//                     <button\n//                       style={{\n//                         marginTop: \"7px\",\n//                         backgroundColor: \"#FEB800\",\n//                         padding: \"10px 22px\",\n//                         fontSize: \"14px\",\n//                         fontWeight: \"400\",\n//                         color: \"#fff\",\n//                         border: \"none\",\n//                         borderRadius: \"5px\",\n//                       }}\n//                     >\n//                       Add New NOO +\n//                     </button>\n//                   </a>\n//                 </Link>\n//               </div>\n//               <div>\n//                 <div className={styles.pie_percentage}>0%</div>\n//                 <Doughnut\n//                   data={dataSpreading}\n//                   options={donutOptions}\n//                   width={100}\n//                   height={100}\n//                 />\n//               </div>\n//             </div>\n//           </Card>\n//           <Card style={{ marginTop: \"22px\", borderRadius: \"30px\" }} shadow>\n//             <div className={styles.plan_container}>\n//               <div\n//                 style={{\n//                   fontSize: \"18px\",\n//                   fontWeight: \"500\",\n//                   color: \"#5E5873\",\n//                   textAlign: \"left\",\n//                 }}\n//               >\n//                 Spreading History\n//               </div>\n//               <div style={{ margin: \"22px 0\" }}>\n//                 {renderList(\"SPREADING\", spreadingHistory)}\n//               </div>\n//               <Link href=\"/visit/spreading/history\">\n//                 <a>\n//                   <Button text={\"See Details\"} />\n//                 </a>\n//               </Link>\n//             </div>\n//           </Card>\n//         </>\n//       );\n//     }\n//   };\n\n//   const renderUnplan = () => {\n//     if (loading) {\n//       return <Spinner />;\n//     } else {\n//       return (\n//         <>\n//           <Card style={{ borderRadius: \"5px\", marginTop: \"22px\" }} shadow>\n//             <div className={styles.unplan_grid}>\n//               <div className={styles.num_total_unplan}>5</div>\n//               <div style={{ fontSize: \"14px\" }}>Total Unplan Visit</div>\n//               <div className={styles.date}>{moment().format(\"MMMM\")}</div>\n//             </div>\n//           </Card>\n//           <Card style={{ borderRadius: \"5px\", marginTop: \"11px\" }} shadow>\n//             <Link href=\"/visit/unplan\">\n//               <a style={{ textDecoration: \"none\" }}>\n//                 <div className={styles.unplan_grid2}>\n//                   <div className={styles.add_unplan}>\n//                     <div style={{ marginTop: \"-8px\" }}>+</div>\n//                   </div>\n//                   <div style={{ fontSize: \"16px\", fontWeight: \"600\" }}>\n//                     Any Unplan Visit?\n//                     <div\n//                       style={{\n//                         color: \"#B9B9C3\",\n//                         fontWeight: \"300\",\n//                         fontSize: \"13px\",\n//                       }}\n//                     >\n//                       Add your unplan visit here\n//                     </div>{\" \"}\n//                   </div>\n//                   <div style={{ textAlign: \"center\" }}>\n//                     <img src={\"/next.svg\"} />\n//                   </div>\n//                 </div>\n//               </a>\n//             </Link>\n//           </Card>\n\n//           <Card style={{ marginTop: \"22px\", borderRadius: \"30px\" }} shadow>\n//             <div className={styles.plan_container}>\n//               <div\n//                 style={{\n//                   fontSize: \"18px\",\n//                   fontWeight: \"500\",\n//                   color: \"#5E5873\",\n//                   textAlign: \"left\",\n//                 }}\n//               >\n//                 Unplan Visit History\n//               </div>\n//               <div style={{ margin: \"22px 0\" }}>\n//                 {renderList(\"UNPLAN\", unplanHistory)}\n//               </div>\n//               <Link href=\"/visit/unplan/history\">\n//                 <a>\n//                   <Button text={\"See Details\"} />\n//                 </a>\n//               </Link>\n//             </div>\n//           </Card>\n//         </>\n//       );\n//     }\n//   };\n\n//   const renderWorkVisit = () => {};\n\n//   const renderPage = () => {\n//     if (loading && loadingMenu) {\n//       return <Spinner />;\n//     } else {\n//       return (\n//         <div>\n//           <Head>\n//             <title>Home</title>\n//             <link rel=\"icon\" href=\"/favicon.ico\" />\n//           </Head>\n//           <div className={styles.container}>\n//             <div className={styles.wrapper}>\n//               <div className={styles.bg_top} />\n//               <div className={styles.user_info_grid}>\n//                 <img className={styles.pp} src=\"/pp.png\" />\n//                 <div style={{ marginLeft: \"15px\" }}>\n//                   <div style={{ fontSize: \"14px\" }}>\n//                     {state.userReducer.user.name}\n//                   </div>\n//                   <div style={{ fontSize: \"12px\" }}>{role}</div>\n//                 </div>\n//                 <img className={styles.notif} src=\"/notif.svg\" />\n//                 <div className={styles.main}>\n//                   {renderTopMenu()}\n//                   {focus === \"PLAN\"\n//                     ? renderPlan()\n//                     : focus === \"UNPLAN\"\n//                     ? renderUnplan()\n//                     : focus === \"SPREADING\"\n//                     ? renderSpreading()\n//                     : focus === \"WORK-VISIT\"\n//                     ? renderWorkVisit()\n//                     : \"\"}\n//                   <div style={{ marginBottom: \"120px\" }} />\n//                 </div>\n//               </div>\n//             </div>\n//           </div>\n//         </div>\n//       );\n//     }\n//   };\n//   return renderPage();\n// }\n"]},"metadata":{},"sourceType":"script"}