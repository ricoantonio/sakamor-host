{"ast":null,"code":"import { API_URL, API_MASTER, API_USER, API_VISIT_PLAN, TOKEN } from \"./constant\";\nvar now = new Date();\nvar date = now.getDate();\nvar month = now.getMonth() + 1;\nvar year = now.getFullYear();\n\nconst getMenu = userData => {\n  return fetch(API_URL + API_USER + `/User/GetMenu?username=${userData.email}`, {\n    headers: {\n      apiKey: TOKEN\n    }\n  }).then(response => {\n    return response.json();\n  }).then(data => {\n    return data;\n  }).catch(err => {\n    console.log(err);\n  });\n};\n\nconst getPlanList = userData => {\n  // return fetch(\n  //   API_URL +\n  //     API_VISIT_PLAN +\n  //     `/MasterVisitPlan/GetMasterVisitPlanBy?parameter=${year}-${month}-${date}`,\n  //   {\n  //     headers: {\n  //       apiKey: TOKEN,\n  //     },\n  //   }\n  // )\n  //   .then((response) => {\n  //     return response.json();\n  //   })\n  //   .then((data) => {\n  //     return data;\n  //   })\n  //   .catch((err) => {\n  //     console.log(err);\n  //   });\n  return fetch(API_URL + API_VISIT_PLAN + `/ActivityVisitPlan/GetActivityVisitPlanBy?username=${userData.username}`, {\n    headers: {\n      apiKey: TOKEN\n    }\n  }).then(response => {\n    return response.json();\n  }).then(data => {\n    var res = data.filter(val => {\n      return val.isCheckOut === false;\n    });\n    return res;\n  }).catch(err => {\n    console.log(err);\n  });\n};\n\nconst getAuth = userData => {\n  return fetch(API_URL + API_USER + `/User/GetAuthorize?username=${userData.username}`, {\n    headers: {\n      apiKey: TOKEN\n    }\n  }).then(response => {\n    return response.json();\n  }).then(data => {\n    return data;\n  }).catch(err => {\n    console.log(err);\n  });\n};\n\nconst onLogin = values => {\n  return fetch(API_URL + API_USER + `/User/Login?username=${values.username}&&password=${values.password}`, {\n    method: \"POST\",\n    headers: {\n      apiKey: TOKEN\n    }\n  }).then(response => {\n    return response.json();\n  }).then(data => {\n    return data;\n  }).catch(err => {\n    console.log(err);\n    setWrongUser(true);\n  });\n};\n\nconst getPlanId = id => {\n  return fetch(API_URL + API_VISIT_PLAN + `/MasterVisitPlan/GetMasterVisitPlanBy?parameter=${year}-${month}-${date}`, {\n    headers: {\n      apiKey: TOKEN\n    }\n  }).then(response => {\n    return response.json();\n  }).then(planList => {\n    if (planList.length != 0) {\n      return fetch(API_URL + API_VISIT_PLAN + `/MasterVisitPlan/GetMasterVisitPlanById/${id}`, {\n        headers: {\n          apiKey: TOKEN\n        }\n      }).then(response => {\n        return response.json();\n      }).then(data => {\n        var samePlan = planList.filter(val => {\n          return val.id === data.id;\n        });\n        return {\n          samePlan,\n          data\n        };\n      }).catch(err => {\n        console.log(err);\n      });\n    } else {\n      return planList;\n    }\n  }).catch(err => {\n    console.log(err);\n  });\n};\n\nconst getPosm = () => {\n  return fetch(API_URL + API_MASTER + `/MasterDataLokal/GetAllDisplayProgram`, {\n    headers: {\n      apiKey: TOKEN\n    }\n  }).then(response => {\n    return response.json();\n  }).then(data => {\n    return data;\n  }).catch(err => {\n    console.log(err);\n  });\n};\n\nconst getProductSearch = search => {\n  return fetch(API_URL + API_MASTER + `/MasterData/GetProdukLike/${search}`, {\n    headers: {\n      apiKey: TOKEN\n    }\n  }).then(response => {\n    return response.json();\n  }).then(data => {\n    return data;\n  }).catch(err => {\n    console.log(err);\n  });\n};\n\nconst getProdukByJenisChannel = jenisChannelId => {\n  return fetch(API_URL + API_MASTER + `/MasterDataLokal/GetProdukJenisChannelBy/${jenisChannelId}`, {\n    headers: {\n      apiKey: TOKEN\n    }\n  }).then(response => {\n    return response.json();\n  }).then(data => {\n    return data;\n  }).catch(err => {\n    console.log(err);\n  });\n};\n\nconst getPlanHistory = userData => {\n  return fetch(API_URL + API_VISIT_PLAN + `/ActivityVisitPlan/GetActivityVisitPlanBy?username=${userData.username}`, {\n    headers: {\n      apiKey: TOKEN\n    }\n  }).then(response => {\n    return response.json();\n  }).then(data => {\n    var res = data.filter(val => {\n      return val.isCheckOut === true;\n    });\n    return res;\n  }).catch(err => {\n    console.log(err);\n  });\n};\n\nconst submitVisitPlan = data => {\n  // console.log(data);\n  return fetch(API_URL + API_VISIT_PLAN + \"/ActivityVisitPlan/SaveAllActivityVisitPlan\", {\n    method: \"POST\",\n    headers: {\n      apiKey: TOKEN,\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(data)\n  }).then(response => {\n    return response.json();\n  }).then(data => {\n    console.log(\"baikan saveall\", data);\n    return data;\n  }).catch(err => {\n    console.log(err);\n  });\n};\n\nconst submitVisitPlanDposm = (dposm, file) => {\n  // console.log(dposm, file);\n  const formdata = new FormData();\n  return fetch(API_URL + API_VISIT_PLAN + \"/ActivityVisitPlanDPOSM/SaveActivityVisitPlanDposm\", {\n    method: \"POST\",\n    headers: {\n      apiKey: TOKEN,\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(dposm)\n  }).then(response => {\n    return response.json();\n  }).then(data => {\n    console.log(\"balikan psom\", data);\n    formdata.append(\"file\", file);\n    return fetch(API_URL + API_VISIT_PLAN + `/ActivityVisitPlanDPOSM/InsertFileBy?id=${data.id}&namaFile=${data.namaFile}`, {\n      method: \"POST\",\n      headers: {\n        apiKey: TOKEN\n      },\n      body: formdata\n    }).then(response => {\n      return response.json();\n    }).then(data => {\n      console.log(\"balikan inserfile\", data);\n      return data;\n    }).catch(err => {\n      console.log(err);\n    });\n  }).catch(err => {\n    console.log(err);\n  });\n};\n\nconst getInvoiceData = visitPlanId => {\n  return fetch(API_URL + API_VISIT_PLAN + `/ActivityVisitPlan/GetProdukSuratPesanan/${visitPlanId}`, {\n    headers: {\n      apiKey: TOKEN\n    }\n  }).then(response => {\n    return response.json();\n  }).then(data => {\n    return data;\n  }).catch(err => {\n    console.log(err);\n  });\n};\n\nconst getInvoiceDataPosm = visitPlanId => {\n  return fetch(API_URL + API_VISIT_PLAN + `/ActivityVisitPlanDPOSM/GetActivityVisitPlanDPosmBy/${visitPlanId}`, {\n    headers: {\n      apiKey: TOKEN\n    }\n  }).then(response => {\n    return response.json();\n  }).then(data => {\n    return data;\n  }).catch(err => {\n    console.log(err);\n  });\n};\n\nconst viewFile = id => {\n  console.log(id);\n  return fetch(API_URL + API_VISIT_PLAN + `/ActivityVisitPlanDPOSM/ViewFile/${id}`, {\n    headers: {\n      apiKey: TOKEN\n    }\n  }).then(response => {\n    console.log(response.body);\n    return response.text();\n  }).then(function (data) {\n    console.log(data); // this will be a string\n  }).catch(err => {\n    console.log(err);\n  });\n};\n\nconst getPlanMonthlyHistory = userData => {\n  return fetch(API_URL + API_VISIT_PLAN + `/ActivityVisitPlan/GetHistoryActivityVisitPlanBy?username=${userData.username}`, {\n    headers: {\n      apiKey: TOKEN\n    }\n  }).then(response => {\n    return response.json();\n  }).then(data => {\n    data.sort(function (a, b) {\n      var dateA = new Date(a.tanggal),\n          dateB = new Date(b.tanggal);\n      return dateB - dateA;\n    });\n    return data;\n  }).catch(err => {\n    console.log(err);\n  });\n};\n\nexport { getMenu, getPlanList, getAuth, onLogin, getPlanId, getPosm, getProductSearch, getPlanHistory, submitVisitPlan, submitVisitPlanDposm, getProdukByJenisChannel, getInvoiceData, getInvoiceDataPosm, getPlanMonthlyHistory, viewFile };","map":{"version":3,"sources":["C:/Users/Rico/Desktop/Home/Kalbe app/sakamor-new/helper.js"],"names":["API_URL","API_MASTER","API_USER","API_VISIT_PLAN","TOKEN","now","Date","date","getDate","month","getMonth","year","getFullYear","getMenu","userData","fetch","email","headers","apiKey","then","response","json","data","catch","err","console","log","getPlanList","username","res","filter","val","isCheckOut","getAuth","onLogin","values","password","method","setWrongUser","getPlanId","id","planList","length","samePlan","getPosm","getProductSearch","search","getProdukByJenisChannel","jenisChannelId","getPlanHistory","submitVisitPlan","Accept","body","JSON","stringify","submitVisitPlanDposm","dposm","file","formdata","FormData","append","namaFile","getInvoiceData","visitPlanId","getInvoiceDataPosm","viewFile","text","getPlanMonthlyHistory","sort","a","b","dateA","tanggal","dateB"],"mappings":"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","sourcesContent":["import {\r\n  API_URL,\r\n  API_MASTER,\r\n  API_USER,\r\n  API_VISIT_PLAN,\r\n  TOKEN,\r\n} from \"./constant\";\r\n\r\nvar now = new Date();\r\nvar date = now.getDate();\r\nvar month = now.getMonth() + 1;\r\nvar year = now.getFullYear();\r\n\r\nconst getMenu = (userData) => {\r\n  return fetch(\r\n    API_URL + API_USER + `/User/GetMenu?username=${userData.email}`,\r\n    {\r\n      headers: {\r\n        apiKey: TOKEN,\r\n      },\r\n    }\r\n  )\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .then((data) => {\r\n      return data;\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n};\r\nconst getPlanList = (userData) => {\r\n  // return fetch(\r\n  //   API_URL +\r\n  //     API_VISIT_PLAN +\r\n  //     `/MasterVisitPlan/GetMasterVisitPlanBy?parameter=${year}-${month}-${date}`,\r\n  //   {\r\n  //     headers: {\r\n  //       apiKey: TOKEN,\r\n  //     },\r\n  //   }\r\n  // )\r\n  //   .then((response) => {\r\n  //     return response.json();\r\n  //   })\r\n  //   .then((data) => {\r\n  //     return data;\r\n  //   })\r\n  //   .catch((err) => {\r\n  //     console.log(err);\r\n  //   });\r\n  return fetch(\r\n    API_URL +\r\n      API_VISIT_PLAN +\r\n      `/ActivityVisitPlan/GetActivityVisitPlanBy?username=${userData.username}`,\r\n    {\r\n      headers: {\r\n        apiKey: TOKEN,\r\n      },\r\n    }\r\n  )\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .then((data) => {\r\n      var res = data.filter((val) => {\r\n        return val.isCheckOut === false;\r\n      });\r\n      return res;\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n};\r\n\r\nconst getAuth = (userData) => {\r\n  return fetch(\r\n    API_URL + API_USER + `/User/GetAuthorize?username=${userData.username}`,\r\n    {\r\n      headers: {\r\n        apiKey: TOKEN,\r\n      },\r\n    }\r\n  )\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .then((data) => {\r\n      return data;\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n};\r\n\r\nconst onLogin = (values) => {\r\n  return fetch(\r\n    API_URL +\r\n      API_USER +\r\n      `/User/Login?username=${values.username}&&password=${values.password}`,\r\n    {\r\n      method: \"POST\",\r\n      headers: {\r\n        apiKey: TOKEN,\r\n      },\r\n    }\r\n  )\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .then((data) => {\r\n      return data;\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n      setWrongUser(true);\r\n    });\r\n};\r\n\r\nconst getPlanId = (id) => {\r\n  return fetch(\r\n    API_URL +\r\n      API_VISIT_PLAN +\r\n      `/MasterVisitPlan/GetMasterVisitPlanBy?parameter=${year}-${month}-${date}`,\r\n    {\r\n      headers: {\r\n        apiKey: TOKEN,\r\n      },\r\n    }\r\n  )\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .then((planList) => {\r\n      if (planList.length != 0) {\r\n        return fetch(\r\n          API_URL +\r\n            API_VISIT_PLAN +\r\n            `/MasterVisitPlan/GetMasterVisitPlanById/${id}`,\r\n          {\r\n            headers: {\r\n              apiKey: TOKEN,\r\n            },\r\n          }\r\n        )\r\n          .then((response) => {\r\n            return response.json();\r\n          })\r\n          .then((data) => {\r\n            var samePlan = planList.filter((val) => {\r\n              return val.id === data.id;\r\n            });\r\n\r\n            return { samePlan, data };\r\n          })\r\n          .catch((err) => {\r\n            console.log(err);\r\n          });\r\n      } else {\r\n        return planList;\r\n      }\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n};\r\n\r\nconst getPosm = () => {\r\n  return fetch(API_URL + API_MASTER + `/MasterDataLokal/GetAllDisplayProgram`, {\r\n    headers: {\r\n      apiKey: TOKEN,\r\n    },\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .then((data) => {\r\n      return data;\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n};\r\n\r\nconst getProductSearch = (search) => {\r\n  return fetch(API_URL + API_MASTER + `/MasterData/GetProdukLike/${search}`, {\r\n    headers: {\r\n      apiKey: TOKEN,\r\n    },\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .then((data) => {\r\n      return data;\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n};\r\n\r\nconst getProdukByJenisChannel = (jenisChannelId) => {\r\n  return fetch(\r\n    API_URL +\r\n      API_MASTER +\r\n      `/MasterDataLokal/GetProdukJenisChannelBy/${jenisChannelId}`,\r\n    {\r\n      headers: {\r\n        apiKey: TOKEN,\r\n      },\r\n    }\r\n  )\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .then((data) => {\r\n      return data;\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n};\r\n\r\nconst getPlanHistory = (userData) => {\r\n  return fetch(\r\n    API_URL +\r\n      API_VISIT_PLAN +\r\n      `/ActivityVisitPlan/GetActivityVisitPlanBy?username=${userData.username}`,\r\n    {\r\n      headers: {\r\n        apiKey: TOKEN,\r\n      },\r\n    }\r\n  )\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .then((data) => {\r\n      var res = data.filter((val) => {\r\n        return val.isCheckOut === true;\r\n      });\r\n      return res;\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n};\r\n\r\nconst submitVisitPlan = (data) => {\r\n  // console.log(data);\r\n  return fetch(\r\n    API_URL + API_VISIT_PLAN + \"/ActivityVisitPlan/SaveAllActivityVisitPlan\",\r\n    {\r\n      method: \"POST\",\r\n      headers: {\r\n        apiKey: TOKEN,\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(data),\r\n    }\r\n  )\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .then((data) => {\r\n      console.log(\"baikan saveall\", data);\r\n      return data;\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n};\r\n\r\nconst submitVisitPlanDposm = (dposm, file) => {\r\n  // console.log(dposm, file);\r\n  const formdata = new FormData();\r\n  return fetch(\r\n    API_URL +\r\n      API_VISIT_PLAN +\r\n      \"/ActivityVisitPlanDPOSM/SaveActivityVisitPlanDposm\",\r\n    {\r\n      method: \"POST\",\r\n      headers: {\r\n        apiKey: TOKEN,\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(dposm),\r\n    }\r\n  )\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .then((data) => {\r\n      console.log(\"balikan psom\", data);\r\n      formdata.append(\"file\", file);\r\n      return fetch(\r\n        API_URL +\r\n          API_VISIT_PLAN +\r\n          `/ActivityVisitPlanDPOSM/InsertFileBy?id=${data.id}&namaFile=${data.namaFile}`,\r\n        {\r\n          method: \"POST\",\r\n          headers: {\r\n            apiKey: TOKEN,\r\n          },\r\n          body: formdata,\r\n        }\r\n      )\r\n        .then((response) => {\r\n          return response.json();\r\n        })\r\n        .then((data) => {\r\n          console.log(\"balikan inserfile\", data);\r\n          return data;\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n};\r\n\r\nconst getInvoiceData = (visitPlanId) => {\r\n  return fetch(\r\n    API_URL +\r\n      API_VISIT_PLAN +\r\n      `/ActivityVisitPlan/GetProdukSuratPesanan/${visitPlanId}`,\r\n    {\r\n      headers: {\r\n        apiKey: TOKEN,\r\n      },\r\n    }\r\n  )\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .then((data) => {\r\n      return data;\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n};\r\n\r\nconst getInvoiceDataPosm = (visitPlanId) => {\r\n  return fetch(\r\n    API_URL +\r\n      API_VISIT_PLAN +\r\n      `/ActivityVisitPlanDPOSM/GetActivityVisitPlanDPosmBy/${visitPlanId}`,\r\n    {\r\n      headers: {\r\n        apiKey: TOKEN,\r\n      },\r\n    }\r\n  )\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .then((data) => {\r\n      return data;\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n};\r\n\r\nconst viewFile = (id) => {\r\n  console.log(id);\r\n  return fetch(\r\n    API_URL + API_VISIT_PLAN + `/ActivityVisitPlanDPOSM/ViewFile/${id}`,\r\n    {\r\n      headers: {\r\n        apiKey: TOKEN,\r\n      },\r\n    }\r\n  )\r\n    .then((response) => {\r\n      console.log(response.body);\r\n      return response.text();\r\n    })\r\n    .then(function (data) {\r\n      console.log(data); // this will be a string\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n};\r\n\r\nconst getPlanMonthlyHistory = (userData) => {\r\n  return fetch(\r\n    API_URL +\r\n      API_VISIT_PLAN +\r\n      `/ActivityVisitPlan/GetHistoryActivityVisitPlanBy?username=${userData.username}`,\r\n    {\r\n      headers: {\r\n        apiKey: TOKEN,\r\n      },\r\n    }\r\n  )\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .then((data) => {\r\n      data.sort(function (a, b) {\r\n        var dateA = new Date(a.tanggal),\r\n          dateB = new Date(b.tanggal);\r\n        return dateB - dateA;\r\n      });\r\n      return data;\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n};\r\n\r\nexport {\r\n  getMenu,\r\n  getPlanList,\r\n  getAuth,\r\n  onLogin,\r\n  getPlanId,\r\n  getPosm,\r\n  getProductSearch,\r\n  getPlanHistory,\r\n  submitVisitPlan,\r\n  submitVisitPlanDposm,\r\n  getProdukByJenisChannel,\r\n  getInvoiceData,\r\n  getInvoiceDataPosm,\r\n  getPlanMonthlyHistory,\r\n  viewFile,\r\n};\r\n"]},"metadata":{},"sourceType":"module"}