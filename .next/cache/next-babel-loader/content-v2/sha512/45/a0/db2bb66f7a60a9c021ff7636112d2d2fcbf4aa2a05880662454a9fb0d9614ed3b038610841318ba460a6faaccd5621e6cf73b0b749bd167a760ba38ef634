{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useState, useEffect, useContext } from \"react\";\nimport Link from \"next/link\";\nimport Router from \"next/router\";\nimport { Stores } from \"../store\";\nimport styles from \"../styles/pages/MasterPlanVisit.module.css\";\nimport Nav from \"../components/Nav\";\nimport Spinner from \"../components/Spinner\";\nimport DetailPlan from \"../components/DetailPlan\";\nimport Button from \"../components/Button\";\nimport { getAuth, getPlanList } from \"../helper\";\nimport moment from \"moment\";\nimport Card from \"../components/Card\";\nexport default function Plan() {\n  var _useContext = useContext(Stores),\n      state = _useContext.state,\n      dispatch = _useContext.dispatch,\n      actions = _useContext.actions;\n\n  var _useState = useState([]),\n      plan = _useState[0],\n      setPlan = _useState[1];\n\n  var _useState2 = useState(\"\"),\n      search = _useState2[0],\n      setSearch = _useState2[1];\n\n  var _useState3 = useState(false),\n      modal = _useState3[0],\n      setModal = _useState3[1];\n\n  var _useState4 = useState(true),\n      loading = _useState4[0],\n      setLoading = _useState4[1];\n\n  useEffect(function () {\n    var userData = JSON.parse(localStorage.getItem(\"user\"));\n    var userMenu = JSON.parse(localStorage.getItem(\"menu\"));\n\n    if (userData) {\n      getAuth(userData).then(function (data) {\n        var auth = data.filter(function (val) {\n          return val.moduleCode === \"PLAN\";\n        });\n        var menu = userMenu.filter(function (val) {\n          return val.moduleCode === \"PLAN\";\n        });\n\n        if (!(auth && menu)) {\n          Router.push(\"/\");\n        }\n      })[\"catch\"](function (err) {\n        console.log(err);\n      });\n    } else {\n      Router.push(\"/\");\n    }\n  }, [dispatch]);\n  useEffect(function () {\n    setLoading(false);\n  }, [dispatch]);\n\n  var renderModalAdd = function renderModalAdd() {\n    if (modal) {\n      return /*#__PURE__*/_jsxs(_Fragment, {\n        children: [/*#__PURE__*/_jsx(\"div\", {\n          className: styles.modal_avability,\n          onClick: function onClick() {\n            setModal(false);\n          }\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: styles.wrapper,\n          children: /*#__PURE__*/_jsxs(\"div\", {\n            className: styles.avability_modal_container,\n            children: [/*#__PURE__*/_jsx(\"div\", {\n              className: styles.add_title,\n              children: \"Add Plan Visit\"\n            }), /*#__PURE__*/_jsx(\"div\", {\n              className: styles.avability_modal_subtitle,\n              children: \"Jenis Channel\"\n            }), /*#__PURE__*/_jsx(\"input\", {\n              className: styles.input_order_search\n            }), /*#__PURE__*/_jsx(\"div\", {\n              className: styles.avability_modal_subtitle,\n              children: \"Nama Outlet\"\n            }), /*#__PURE__*/_jsx(\"input\", {\n              className: styles.input_order_search\n            }), /*#__PURE__*/_jsx(\"div\", {\n              className: styles.avability_modal_subtitle,\n              children: \"Alamat\"\n            }), /*#__PURE__*/_jsx(\"input\", {\n              className: styles.input_order_search\n            }), /*#__PURE__*/_jsx(\"div\", {\n              style: {\n                marginTop: \"20px\"\n              },\n              children: /*#__PURE__*/_jsx(Button, {\n                text: \"Add\",\n                onClick: function onClick() {}\n              })\n            })]\n          })\n        })]\n      });\n    }\n  };\n\n  var render = function render() {\n    if (loading) {\n      return /*#__PURE__*/_jsx(Spinner, {});\n    } else {\n      return /*#__PURE__*/_jsxs(_Fragment, {\n        children: [renderModalAdd(), /*#__PURE__*/_jsx(\"div\", {\n          className: styles.container,\n          children: /*#__PURE__*/_jsxs(\"div\", {\n            className: styles.wrapper,\n            children: [/*#__PURE__*/_jsx(Nav, {\n              backHref: \"/\"\n            }), /*#__PURE__*/_jsx(\"div\", {\n              className: styles.title_container,\n              children: /*#__PURE__*/_jsx(\"div\", {\n                className: styles.title,\n                children: \"Master Plan Visit\"\n              })\n            }), /*#__PURE__*/_jsxs(\"div\", {\n              className: styles.main,\n              children: [/*#__PURE__*/_jsxs(\"div\", {\n                className: styles.input_container,\n                children: [/*#__PURE__*/_jsx(\"div\", {\n                  style: {\n                    marginRight: \"5px\"\n                  },\n                  children: /*#__PURE__*/_jsx(\"input\", {\n                    className: styles.input,\n                    type: \"date\",\n                    min: moment().format(\"YYYY-MM-DD\")\n                  })\n                }), /*#__PURE__*/_jsx(\"div\", {\n                  style: {\n                    marginLeft: \"5px\"\n                  },\n                  children: /*#__PURE__*/_jsx(Button, {\n                    onClick: function onClick() {\n                      setModal(true);\n                    },\n                    text: \"Add\"\n                  })\n                })]\n              }), /*#__PURE__*/_jsxs(Card, {\n                style: {\n                  marginTop: \"22px\",\n                  borderRadius: \"6px\"\n                },\n                children: [/*#__PURE__*/_jsx(\"div\", {\n                  style: {\n                    padding: \"10px\",\n                    fontSize: \"21px\",\n                    textAlign: \"center\"\n                  },\n                  children: \"List Master Plan\"\n                }), /*#__PURE__*/_jsxs(\"div\", {\n                  style: {\n                    padding: \"10px 20px\",\n                    fontSize: \"14px\"\n                  },\n                  children: [/*#__PURE__*/_jsx(\"div\", {\n                    style: {\n                      fontWeight: \"500\"\n                    },\n                    children: \"Ap. Sumber Sehat\"\n                  }), /*#__PURE__*/_jsx(\"div\", {\n                    style: {\n                      fontWeight: \"400\",\n                      color: \"#B9B9C3\"\n                    },\n                    children: \"3 August 2021\"\n                  })]\n                }), /*#__PURE__*/_jsxs(\"div\", {\n                  style: {\n                    padding: \"10px 20px\",\n                    fontSize: \"14px\"\n                  },\n                  children: [/*#__PURE__*/_jsx(\"div\", {\n                    style: {\n                      fontWeight: \"500\"\n                    },\n                    children: \"Ap. Sumber Sehat\"\n                  }), /*#__PURE__*/_jsx(\"div\", {\n                    style: {\n                      fontWeight: \"400\",\n                      color: \"#B9B9C3\"\n                    },\n                    children: \"3 August 2021\"\n                  })]\n                }), /*#__PURE__*/_jsxs(\"div\", {\n                  style: {\n                    padding: \"10px 20px\",\n                    fontSize: \"14px\"\n                  },\n                  children: [/*#__PURE__*/_jsx(\"div\", {\n                    style: {\n                      fontWeight: \"500\"\n                    },\n                    children: \"Ap. Sumber Sehat\"\n                  }), /*#__PURE__*/_jsx(\"div\", {\n                    style: {\n                      fontWeight: \"400\",\n                      color: \"#B9B9C3\"\n                    },\n                    children: \"3 August 2021\"\n                  })]\n                })]\n              })]\n            })]\n          })\n        })]\n      });\n    }\n  };\n\n  return render();\n}","map":null,"metadata":{},"sourceType":"module"}