(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[8],{"5PhN":function(e,t,i){"use strict";var a=i("nKUr"),n=(i("q1tI"),i("M7ZG")),s=i.n(n);t.a=function(e){var t=e.children,i=e.style,n=e.shadow;return Object(a.jsx)("div",{className:"".concat(s.a.container," ").concat(n?s.a.shadow:""),style:i||{},children:t})}},"8RbG":function(e,t,i){"use strict";i.d(t,"a",(function(){return p}));var a=i("nKUr"),n=i("KQm4"),s=i("q1tI"),c=i("20a2"),l=i.n(c),r=i("Dfhs"),o=i.n(r),d=i("kQFM"),u=i("JkA1"),_=i("fj1f"),b=i("es2X"),j=i("5PhN"),v=i("ECGM");function p(e){var t=e.type,i=Object(s.useContext)(d.b),r=i.state,p=i.dispatch,h=i.actions,m=Object(s.useState)(!0),O=m[0],x=m[1],f=Object(s.useState)(!1),y=f[0],g=f[1],N=Object(s.useState)(!1),P=N[0],k=N[1],w=Object(s.useState)(""),S=w[0],A=w[1],D=Object(s.useState)(""),C=D[0],I=D[1],V=Object(s.useState)([]),R=V[0],L=V[1],U=Object(s.useState)({}),E=U[0],q=U[1],T=Object(s.useState)([]),F=T[0],G=T[1],K=Object(s.useState)(""),Y=K[0],B=K[1],H=Object(s.useState)(""),z=H[0],J=H[1],M=Object(s.useState)(""),W=M[0],Q=M[1],X=Object(s.useState)(""),Z=X[0],$=X[1],ee=Object(s.useState)(""),te=ee[0],ie=ee[1],ae=Object(s.useState)(""),ne=ae[0],se=ae[1],ce=Object(s.useState)(""),le=ce[0],re=ce[1],oe=Object(s.useState)(""),de=oe[0],ue=oe[1],_e=Object(s.useState)([]),be=_e[0],je=_e[1],ve=Object(s.useState)(!1),pe=ve[0],he=ve[1],me=Object(c.useRouter)();Object(s.useEffect)((function(){"HISTORY"!==t&&(F.length>0>0&&(window.onbeforeunload=function(){return"Data will be lost if you leave the page, are you sure?"}))})),Object(s.useEffect)((function(){"PLAN"===t?r.visitPlanReducer.avability.length>0&&G(Object(n.a)(r.visitPlanReducer.avability)):"UNPLAN"===t?r.visitUnplanReducer.avability.length>0&&G(Object(n.a)(r.visitUnplanReducer.avability)):"SPREADING"===t&&r.visitSpreadingReducer.avability.length>0&&G(Object(n.a)(r.visitSpreadingReducer.avability))}),[p]),Object(s.useEffect)((function(){}),[]),Object(s.useEffect)((function(){me.query.new?he(!0):"UNPLAN"===t&&(r.visitUnplanReducer.jenisChannel.namaJenisChannel&&r.visitUnplanReducer.outlet.namaOutlet||l.a.push("/visit/unplan"))}),[]),Object(s.useEffect)((function(){E.produkID&&("PLAN"===t||"UNPLAN"===t||"SPREADING"===t)&&(Q(10),$(5e3))}),[E]),Object(s.useEffect)((function(){E.produkID&&ne&&z&&le&&("PLAN"===t||"UNPLAN"===t||"SPREADING"===t)&&ie(W*(parseInt(z)+parseInt(ne))+parseInt(le))}),[ne,z,le]),Object(s.useEffect)((function(){me.query.id&&("PLAN"===t?Object(v.j)(me.query.id).then((function(e){var t=e.samePlan,i=e.data;0==t.length?l.a.push("/visit/plan"):(je(i),r.visitPlanReducer.checkIn||h.setPlanCheckIn(now))})).catch((function(e){console.log(e)})):"UNPLAN"===t||"SPREADING"===t||("HISTORY_PLAN"===t?Object(v.b)(me.query.id).then((function(e){G(e),x(!1)})).catch((function(e){console.log(e)})):"HISTORY_UNPLAN"===t?Object(v.g)(me.query.id).then((function(e){G(e),x(!1)})).catch((function(e){console.log(e)})):"HISTORY_SPREADING"===t&&Object(v.f)(me.query.id).then((function(e){G(e),x(!1)})).catch((function(e){console.log(e)}))))}),[me.query.id]),Object(s.useEffect)((function(){"PLAN"===t?Object(v.n)(be.idJenisChannel).then((function(e){L(e),x(!1)})).catch((function(e){console.log(e)})):"UNPLAN"===t?Object(v.n)(r.visitUnplanReducer.jenisChannel.jenisChannelID).then((function(e){L(e),x(!1)})).catch((function(e){console.log(e)})):"SPREADING"===t&&Object(v.n)(r.visitSpreadingReducer.jenisChannel.jenisChannelID).then((function(e){L(e),x(!1)})).catch((function(e){console.log(e)}))}),[be]);var Oe=function(){if(y)return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:o.a.modal_avability,onClick:function(){g(!1)}}),Object(a.jsx)("div",{className:o.a.wrapper,children:Object(a.jsxs)("div",{className:o.a.avability_modal_container,children:[Object(a.jsx)("div",{className:o.a.add_title,children:"Add Product"}),Object(a.jsx)("div",{className:o.a.avability_modal_subtitle,children:"Product"}),Object(a.jsx)("input",{onChange:function(e){!function(e){I(e)}(e.target.value)},placeholder:"Search",value:C,className:o.a.input_order_search,onFocus:function(){return k(!0)}}),P?Object(a.jsx)("div",{style:{position:"absolute",maxHeight:"180px",backgroundColor:"white",overflowY:"scroll",maxWidth:"400px",padding:"0 4px",zIndex:999999},children:R.map((function(e,t){if(e.namaProduk.includes(C.toUpperCase()))return Object(a.jsx)("div",{onClick:function(){console.log(e),q(e),I(e.namaProduk),k(!1)},style:{borderBottom:".5px solid #f0f0f0",width:"356px"},children:e.namaProduk},t)}))}):null,Object(a.jsxs)("div",{className:o.a.stock_order_container,children:[Object(a.jsxs)("div",{style:{paddingRight:"10px"},children:[Object(a.jsx)("div",{className:o.a.avability_modal_subtitle,children:"Stock (pcs)"}),Object(a.jsx)("input",{onChange:function(e){se(e.target.value)},placeholder:"0",type:"number",min:0,className:o.a.input_order,value:ne})]}),Object(a.jsxs)("div",{style:{},children:[Object(a.jsx)("div",{className:o.a.avability_modal_subtitle,children:"Pengiriman (hari)"}),Object(a.jsx)("input",{onChange:function(e){J(e.target.value)},placeholder:"0",type:"number",min:0,className:o.a.input_order,value:z})]}),Object(a.jsxs)("div",{style:{paddingLeft:"10px"},children:[Object(a.jsx)("div",{className:o.a.avability_modal_subtitle,children:"Minor"}),Object(a.jsx)("input",{onChange:function(e){re(e.target.value)},placeholder:"0",type:"number",min:0,className:o.a.input_order,value:le})]})]}),Object(a.jsxs)("div",{className:o.a.avg_sales_container,children:[Object(a.jsxs)("div",{style:{paddingRight:"5px"},children:[Object(a.jsx)("div",{className:o.a.avability_modal_subtitle,children:"Avg Sales (pcs)"}),Object(a.jsx)("input",{onChange:function(e){Q(e.target.value)},placeholder:"0",type:"number",min:0,className:o.a.input_order,value:W,disabled:!0})]}),Object(a.jsxs)("div",{style:{paddingLeft:"5px"},children:[Object(a.jsx)("div",{className:o.a.avability_modal_subtitle,children:"Saran Order (pcs)"}),Object(a.jsx)("input",{onChange:function(e){ie(e.target.value)},placeholder:"0",type:"number",min:0,className:o.a.input_order,value:te,disabled:!0})]})]}),Object(a.jsx)("div",{className:o.a.avability_modal_subtitle,children:"Order (pcs)"}),Object(a.jsx)("input",{onChange:function(e){B(e.target.value)},placeholder:"0",type:"number",min:0,className:o.a.input_order,value:Y}),Object(a.jsx)("div",{className:o.a.avability_modal_subtitle,children:"Keterangan"}),Object(a.jsx)("input",{onChange:function(e){ue(e.target.value)},placeholder:"Ket.",type:"text",className:o.a.input_order,value:de}),Object(a.jsx)("div",{style:{marginTop:"20px"},children:Object(a.jsx)(b.a,{text:"Add",onClick:function(){var e=new RegExp(/^(\(?\+?[0-9]*\)?)?[0-9_\- \(\)]*$/g);if(E.namaProduk&&Y.match(e)&&0!=Y)if(F.length>0){var t=F.findIndex((function(e){return e.productFocus.namaProduk===E.namaProduk}));t+1?(F.splice(t,1),F.push({productFocus:E,stock:ne,saranOrder:te,order:Y,ket:de,pengiriman:z,minor:le,harga:Z}),g(!1),se(""),ie(""),B(""),ue(""),$("")):(F.push({productFocus:E,stock:ne,saranOrder:te,order:Y,ket:de,pengiriman:z,minor:le,harga:Z}),g(!1),se(""),ie(""),B(""),ue(""),$(""))}else F.push({productFocus:E,stock:ne,saranOrder:te,order:Y,ket:de,pengiriman:z,minor:le,harga:Z}),g(!1),se(""),ie(""),B(""),ue(""),$("")}})})]})})]})},xe=function(){if(t.includes("HISTORY")){console.log(F),F.sort((function(e,t){return e.namaProduk.localeCompare(t.namaProduk)}));var e=F.filter((function(e){return e.namaProduk.toLowerCase().includes(S.toLowerCase())})),i=e.map((function(e,t){return Object(a.jsx)(j.a,{style:{borderRadius:"5px",padding:"30px",marginTop:"14px"},children:Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:o.a.avabilitylist_title,children:e.namaProduk}),Object(a.jsxs)("div",{className:o.a.avabilitylist_container,children:[Object(a.jsx)("div",{className:o.a.avabilitylist_subtitle,children:"Order"}),Object(a.jsxs)("div",{className:o.a.avabilitylist_value,children:[e.jumlah," pcs"]})]}),e.keterangan?Object(a.jsxs)("div",{className:o.a.avabilitylist_container,children:[Object(a.jsx)("div",{className:o.a.avabilitylist_subtitle,children:"Keterangan"}),Object(a.jsx)("div",{className:o.a.avabilitylist_value,children:e.keterangan})]}):null]})},t)}));return 0==e.length?Object(a.jsx)("div",{style:{textAlign:"center",marginTop:"150px",color:"#d0d0d0"},children:"No Item"}):i}F.sort((function(e,t){return e.productFocus.namaProduk.localeCompare(t.productFocus.namaProduk)}));var n=F.filter((function(e){return e.productFocus.namaProduk.toLowerCase().includes(S.toLowerCase())})),s=n.map((function(e,t){return Object(a.jsx)(j.a,{style:{borderRadius:"5px",padding:"30px",marginTop:"14px"},children:Object(a.jsxs)("div",{onClick:function(){q(e.productFocus),se(e.stock),ie(e.saranOrder),B(e.order),ue(e.ket),g(!0),J(e.pengiriman),re(e.minor),$(e.harga)},children:[Object(a.jsx)("div",{className:o.a.avabilitylist_title,children:e.productFocus.namaProduk}),Object(a.jsxs)("div",{className:o.a.avabilitylist_stock_container,children:[Object(a.jsxs)("div",{className:o.a.avabilitylist_container,style:{marginRight:"5px"},children:[Object(a.jsx)("div",{className:o.a.avabilitylist_subtitle,children:"Stock"}),Object(a.jsxs)("div",{div:!0,className:o.a.avabilitylist_value,children:[e.stock," pcs"]})]}),Object(a.jsxs)("div",{className:o.a.avabilitylist_container,style:{marginLeft:"5px"},children:[Object(a.jsx)("div",{className:o.a.avabilitylist_subtitle,children:"Saran Order"}),Object(a.jsxs)("div",{div:!0,className:o.a.avabilitylist_value,children:[e.saranOrder," pcs"]})]})]}),Object(a.jsxs)("div",{className:o.a.avabilitylist_container,children:[Object(a.jsx)("div",{className:o.a.avabilitylist_subtitle,children:"Order"}),Object(a.jsxs)("div",{className:o.a.avabilitylist_value,children:[e.order," pcs"]})]}),e.ket?Object(a.jsxs)("div",{className:o.a.avabilitylist_container,children:[Object(a.jsx)("div",{className:o.a.avabilitylist_subtitle,children:"Keterangan"}),Object(a.jsx)("div",{className:o.a.avabilitylist_value,children:e.ket})]}):null]})},t)}));return 0==n.length?Object(a.jsx)("div",{style:{textAlign:"center",marginTop:"150px",color:"#d0d0d0"},children:"No Item"}):s};return O?Object(a.jsx)(_.a,{}):Object(a.jsxs)(a.Fragment,{children:[Oe(),Object(a.jsx)("div",{className:o.a.container,children:Object(a.jsxs)("div",{className:o.a.wrapper,children:[t.includes("HISTORY")?Object(a.jsx)(u.a,{title:"Avability",color:"white",backAction:function(){l.a.back()}}):Object(a.jsx)(u.a,{title:"Avability",color:"white",action:"Save",onClick:function(){pe?(h.setSpreadingAvability(F),l.a.push("/visit/spreading/submit?new=true")):"PLAN"===t?(h.setPlanAvability(F),l.a.push("/visit/plan/".concat(me.query.id))):"UNPLAN"===t?(h.setUnplanAvability(F),l.a.push("/visit/unplan/submit")):"SPREADING"===t&&(h.setSpreadingAvability(F),l.a.push("/visit/spreading/submit"))},backAction:function(){l.a.back()},disable:!1}),Object(a.jsxs)("div",{className:o.a.main,children:[Object(a.jsxs)("div",{className:o.a.search_fixed,children:[Object(a.jsxs)("div",{style:{margin:"10px 0 0 0"},children:[Object(a.jsx)("div",{className:o.a.progress_bar}),Object(a.jsx)("div",{className:o.a.progress_bar_now,style:{width:"".concat(F.length/25*100,"%")}})]}),Object(a.jsx)("input",{onChange:function(e){A(e.target.value)},placeholder:"Search",className:o.a.input,style:{marginTop:"0"}})]}),Object(a.jsxs)("div",{style:{paddingTop:"60px"},children:[xe(),Object(a.jsx)("div",{style:{marginBottom:"100px"}})]})]}),t.includes("HISTORY")?null:Object(a.jsx)("div",{className:o.a.avability_bot_container,children:Object(a.jsx)(b.a,{text:"Add",onClick:function(){g(!0),q(""),Q(""),se(""),J(""),B(""),ie(""),ue(""),re(""),$(""),I("")}})})]})})]})}},Dfhs:function(e,t,i){e.exports={container:"VisitPlanDetail_container__2jr6z",wrapper:"VisitPlanDetail_wrapper__1k2PA",main:"VisitPlanDetail_main__2JVTk",render_data:"VisitPlanDetail_render_data__UG0Yf",avability_modal_subtitle:"VisitPlanDetail_avability_modal_subtitle__cImGw",render_value:"VisitPlanDetail_render_value__2U7Gk",input:"VisitPlanDetail_input__3EeAf",input_order_search:"VisitPlanDetail_input_order_search__3uxsM",input_order:"VisitPlanDetail_input_order__1WXcP",visibility_grid:"VisitPlanDetail_visibility_grid__eKqRB",visibility_grid_history:"VisitPlanDetail_visibility_grid_history__3RjRi",visibility_dropdown:"VisitPlanDetail_visibility_dropdown__1NliU",new_button:"VisitPlanDetail_new_button__3zBx9",input_file:"VisitPlanDetail_input_file__2mLHX",progress_bar:"VisitPlanDetail_progress_bar__Cz8_8",progress_bar_now:"VisitPlanDetail_progress_bar_now__3w_Ar",avability_bot_container:"VisitPlanDetail_avability_bot_container__1vyIh",avability_modal_container:"VisitPlanDetail_avability_modal_container__1BVd4",avability_modal_main:"VisitPlanDetail_avability_modal_main__isfSW",modal_avability:"VisitPlanDetail_modal_avability__3bVY8",hidden_overflow:"VisitPlanDetail_hidden_overflow__35jOV",add_title:"VisitPlanDetail_add_title__20KUY",stock_order_container:"VisitPlanDetail_stock_order_container__1-0Au",avg_sales_container:"VisitPlanDetail_avg_sales_container__2ZL8F",avabilitylist_title:"VisitPlanDetail_avabilitylist_title__3iIBI",avabilitylist_stock_container:"VisitPlanDetail_avabilitylist_stock_container__1iSbF",avabilitylist_container:"VisitPlanDetail_avabilitylist_container__WpqI9",avabilitylist_subtitle:"VisitPlanDetail_avabilitylist_subtitle__2LI2L",avabilitylist_value:"VisitPlanDetail_avabilitylist_value__21-Yx",search_fixed:"VisitPlanDetail_search_fixed__3uZmj",nav_box:"VisitPlanDetail_nav_box__2aVI9"}},GKTS:function(e,t,i){e.exports={container:"Button_container__37SWQ",container_white:"Button_container_white__zoABs"}},JkA1:function(e,t,i){"use strict";var a=i("nKUr"),n=(i("q1tI"),i("YFqc")),s=i.n(n),c=i("mPD6"),l=i.n(c);t.a=function(e){var t=e.backHref,i=e.title,n=e.action,c=e.color,r=e.onClick,o=e.backAction,d=e.noBack,u=e.disable;return Object(a.jsxs)("div",{className:"green"==c?"".concat(l.a.nav_green," ").concat(l.a.nav_container):"white"==c?"".concat(l.a.nav_white," ").concat(l.a.nav_container):l.a.nav_container,children:[t?Object(a.jsx)(s.a,{href:t||"/",children:Object(a.jsx)("a",{children:Object(a.jsx)("img",{style:{width:"24px"},src:"/arrow-left.svg"})})}):d?Object(a.jsx)("div",{}):Object(a.jsx)("img",{onClick:function(){o()},style:{width:"24px"},src:"/arrow-left.svg"}),Object(a.jsx)("div",{style:{textAlign:"center"},className:l.a.title,children:i}),n&&!1===u?Object(a.jsx)("div",{onClick:r,style:{fontSize:"14px",margin:"auto",color:"#41867A",cursor:"pointer"},children:n}):n&&!0===u?Object(a.jsx)("div",{style:{fontSize:"14px",margin:"auto",color:"#c4c4c4",cursor:"pointer"},children:n}):null]})}},KQm4:function(e,t,i){"use strict";function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,a=new Array(t);i<t;i++)a[i]=e[i];return a}function n(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"===typeof e)return a(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?a(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}i.d(t,"a",(function(){return n}))},M7ZG:function(e,t,i){e.exports={container:"Card_container__2ez1c",shadow:"Card_shadow__Tq5_x"}},dVq6:function(e,t,i){e.exports={container:"Spinner_container__3N6EY",spinner:"Spinner_spinner__3goiz","ball-spin-clockwise":"Spinner_ball-spin-clockwise__YJ_C3"}},es2X:function(e,t,i){"use strict";var a=i("nKUr"),n=(i("q1tI"),i("YFqc"),i("GKTS")),s=i.n(n);t.a=function(e){var t=e.onClick,i=e.text,n=e.submit,c=e.color;return Object(a.jsx)("button",{type:n?"submit":"",className:"white"===c?s.a.container_white:s.a.container,onClick:t,children:i})}},fj1f:function(e,t,i){"use strict";var a=i("nKUr"),n=i("dVq6"),s=i.n(n);t.a=function(){return Object(a.jsx)("div",{className:s.a.container,children:Object(a.jsxs)("div",{className:s.a.spinner,children:[Object(a.jsx)("div",{}),Object(a.jsx)("div",{}),Object(a.jsx)("div",{}),Object(a.jsx)("div",{}),Object(a.jsx)("div",{}),Object(a.jsx)("div",{}),Object(a.jsx)("div",{}),Object(a.jsx)("div",{})]})})}},mPD6:function(e,t,i){e.exports={nav_container:"Nav_nav_container__7SMgK",title:"Nav_title__21aLL",nav_green:"Nav_nav_green__1_B--",nav_white:"Nav_nav_white__1ml4-",white:"Nav_white__2liqq"}}}]);