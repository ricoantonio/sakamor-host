(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[9],{"5PhN":function(t,e,i){"use strict";var a=i("nKUr"),n=(i("q1tI"),i("M7ZG")),s=i.n(n);e.a=function(t){var e=t.children,i=t.style,n=t.shadow;return Object(a.jsx)("div",{className:"".concat(s.a.container," ").concat(n?s.a.shadow:""),style:i||{},children:e})}},"8RbG":function(t,e,i){"use strict";i.d(e,"a",(function(){return p}));var a=i("nKUr"),n=i("KQm4"),s=i("q1tI"),c=i("20a2"),l=i.n(c),r=i("Dfhs"),o=i.n(r),d=i("kQFM"),u=i("JkA1"),_=i("fj1f"),b=i("es2X"),j=i("5PhN"),v=i("ECGM");function p(t){var e=t.type,i=Object(s.useContext)(d.b),r=i.state,p=i.dispatch,h=i.actions,m=Object(s.useState)(!0),x=m[0],O=m[1],f=Object(s.useState)(!1),y=f[0],g=f[1],N=Object(s.useState)(!1),P=N[0],k=N[1],w=Object(s.useState)(""),S=w[0],A=w[1],D=Object(s.useState)([]),C=D[0],V=D[1],I=Object(s.useState)([]),R=I[0],L=I[1],U=Object(s.useState)({}),q=U[0],T=U[1],F=Object(s.useState)([]),E=F[0],K=F[1],Y=Object(s.useState)(""),G=Y[0],B=Y[1],z=Object(s.useState)(""),H=z[0],J=z[1],M=Object(s.useState)(""),W=M[0],Q=M[1],X=Object(s.useState)(""),Z=X[0],$=X[1],tt=Object(s.useState)(""),et=tt[0],it=tt[1],at=Object(s.useState)(""),nt=at[0],st=at[1],ct=Object(s.useState)(""),lt=ct[0],rt=ct[1],ot=Object(s.useState)([]),dt=ot[0],ut=ot[1],_t=Object(c.useRouter)();Object(s.useEffect)((function(){"HISTORY"!==e&&(E.length>0>0&&(window.onbeforeunload=function(){return"Data will be lost if you leave the page, are you sure?"}))})),Object(s.useEffect)((function(){"PLAN"===e&&r.visitPlanReducer.avability.length>0&&K(Object(n.a)(r.visitPlanReducer.avability))}),[p]),Object(s.useEffect)((function(){"UNPLAN"===e&&(r.visitUnplanReducer.jenisChannel.namaJenisChannel&&r.visitUnplanReducer.outlet.namaOutlet||l.a.push("/visit/unplan"))}),[]),Object(s.useEffect)((function(){q.produkID&&("PLAN"===e||"UNPLAN"===e&&(console.log("a"),Object(v.n)(q.produkID,r.visitUnplanReducer.outlet.outletID).then((function(t){console.log(t)})).catch((function(t){console.log(t)}))))}),[q]),Object(s.useEffect)((function(){_t.query.id&&("PLAN"===e?Object(v.j)(_t.query.id).then((function(t){var e=t.samePlan,i=t.data;0==e.length?l.a.push("/visit/plan"):(ut(i),r.visitPlanReducer.checkIn||h.setPlanCheckIn(now))})).catch((function(t){console.log(t)})):"UNPLAN"===e||"SPREADING"===e||("HISTORY_PLAN"===e?Object(v.b)(_t.query.id).then((function(t){K(t),O(!1)})).catch((function(t){console.log(t)})):"HISTORY_UNPLAN"===e&&Object(v.g)(_t.query.id).then((function(t){K(t),O(!1)})).catch((function(t){console.log(t)}))))}),[_t.query.id]),Object(s.useEffect)((function(){"PLAN"===e?Object(v.o)(dt.idJenisChannel).then((function(t){V(t),O(!1)})).catch((function(t){console.log(t)})):"UNPLAN"===e?Object(v.o)(r.visitUnplanReducer.jenisChannel.jenisChannelID).then((function(t){V(t),O(!1)})).catch((function(t){console.log(t)})):"SPREADING"===e&&O(!1)}),[dt]);var bt=function(){if(y)return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:o.a.modal_avability,onClick:function(){g(!1)}}),Object(a.jsx)("div",{className:o.a.wrapper,children:Object(a.jsxs)("div",{className:o.a.avability_modal_container,children:[Object(a.jsx)("div",{className:o.a.add_title,children:"Add Product"}),Object(a.jsx)("div",{className:o.a.avability_modal_subtitle,children:"Product"}),Object(a.jsx)("input",{onChange:function(t){!function(t){L(t)}(t.target.value)},placeholder:"Search",value:q.namaProduk,className:o.a.input_order_search,onFocus:function(){return k(!0)}}),C?Object(a.jsx)("div",{style:{position:"absolute",maxHeight:"180px",backgroundColor:"white",overflowY:"scroll",maxWidth:"400px",padding:"0 4px",zIndex:999999},children:P?C.map((function(t,e){if(t.namaProduk.includes(R))return Object(a.jsx)("div",{onClick:function(){console.log(t),T(t),k(!1)},style:{borderBottom:".5px solid #f0f0f0",width:"356px"},children:t.namaProduk},e)})):null}):null,Object(a.jsxs)("div",{className:o.a.stock_order_container,children:[Object(a.jsxs)("div",{style:{paddingRight:"10px"},children:[Object(a.jsx)("div",{className:o.a.avability_modal_subtitle,children:"Stock (pcs)"}),Object(a.jsx)("input",{onChange:function(t){it(t.target.value)},placeholder:"0",type:"number",min:0,className:o.a.input_order,value:et})]}),Object(a.jsxs)("div",{style:{},children:[Object(a.jsx)("div",{className:o.a.avability_modal_subtitle,children:"Pengiriman (hari)"}),Object(a.jsx)("input",{onChange:function(t){J(t.target.value)},placeholder:"0",type:"number",min:0,className:o.a.input_order,value:H})]}),Object(a.jsxs)("div",{style:{paddingLeft:"10px"},children:[Object(a.jsx)("div",{className:o.a.avability_modal_subtitle,children:"Minor"}),Object(a.jsx)("input",{onChange:function(t){st(t.target.value)},placeholder:"0",type:"number",min:0,className:o.a.input_order,value:nt})]})]}),Object(a.jsxs)("div",{className:o.a.avg_sales_container,children:[Object(a.jsxs)("div",{style:{paddingRight:"5px"},children:[Object(a.jsx)("div",{className:o.a.avability_modal_subtitle,children:"Avg Sales (pcs)"}),Object(a.jsx)("input",{onChange:function(t){Q(t.target.value)},placeholder:"0",type:"number",min:0,className:o.a.input_order,value:W,disabled:!0})]}),Object(a.jsxs)("div",{style:{paddingLeft:"5px"},children:[Object(a.jsx)("div",{className:o.a.avability_modal_subtitle,children:"Saran Order (pcs)"}),Object(a.jsx)("input",{onChange:function(t){$(t.target.value)},placeholder:"0",type:"number",min:0,className:o.a.input_order,value:Z,disabled:!0})]})]}),Object(a.jsx)("div",{className:o.a.avability_modal_subtitle,children:"Order (pcs)"}),Object(a.jsx)("input",{onChange:function(t){B(t.target.value)},placeholder:"0",type:"number",min:0,className:o.a.input_order,value:G}),Object(a.jsx)("div",{className:o.a.avability_modal_subtitle,children:"Keterangan"}),Object(a.jsx)("input",{onChange:function(t){rt(t.target.value)},placeholder:"Ket.",type:"text",className:o.a.input_order,value:lt}),Object(a.jsx)("div",{style:{marginTop:"20px"},children:Object(a.jsx)(b.a,{text:"Add",onClick:function(){var t=new RegExp(/^(\(?\+?[0-9]*\)?)?[0-9_\- \(\)]*$/g);if(q.namaProduk&&G.match(t))if(E.length>0){var e=E.findIndex((function(t){return t.productFocus.namaProduk===q.namaProduk}));e+1?(E.splice(e,1),E.push({productFocus:q,stock:et,saranOrder:Z,order:G,ket:lt}),g(!1),it(""),$(""),B(""),rt("")):(E.push({productFocus:q,stock:et,saranOrder:Z,order:G,ket:lt}),g(!1),it(""),$(""),B(""),rt(""))}else E.push({productFocus:q,stock:et,saranOrder:Z,order:G,ket:lt}),g(!1),it(""),$(""),B(""),rt("")}})})]})})]})},jt=function(){if(e.includes("HISTORY")){console.log(E),E.sort((function(t,e){return t.namaProduk.localeCompare(e.namaProduk)}));var t=E.filter((function(t){return t.namaProduk.toLowerCase().includes(S.toLowerCase())})),i=t.map((function(t,e){return Object(a.jsx)(j.a,{style:{borderRadius:"5px",padding:"30px",marginTop:"14px"},children:Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:o.a.avabilitylist_title,children:t.namaProduk}),Object(a.jsxs)("div",{className:o.a.avabilitylist_stock_container,children:[Object(a.jsxs)("div",{className:o.a.avabilitylist_container,style:{marginRight:"5px"},children:[Object(a.jsx)("div",{className:o.a.avabilitylist_subtitle,children:"Stock"}),Object(a.jsxs)("div",{div:!0,className:o.a.avabilitylist_value,children:[t.stock," pcs"]})]}),Object(a.jsxs)("div",{className:o.a.avabilitylist_container,style:{marginLeft:"5px"},children:[Object(a.jsx)("div",{className:o.a.avabilitylist_subtitle,children:"Saran Order"}),Object(a.jsxs)("div",{div:!0,className:o.a.avabilitylist_value,children:[t.saranOrder," pcs"]})]})]}),Object(a.jsxs)("div",{className:o.a.avabilitylist_container,children:[Object(a.jsx)("div",{className:o.a.avabilitylist_subtitle,children:"Order"}),Object(a.jsxs)("div",{className:o.a.avabilitylist_value,children:[t.order," pcs"]})]}),t.ket?Object(a.jsxs)("div",{className:o.a.avabilitylist_container,children:[Object(a.jsx)("div",{className:o.a.avabilitylist_subtitle,children:"Keterangan"}),Object(a.jsx)("div",{className:o.a.avabilitylist_value,children:t.ket})]}):null]})},e)}));return 0==t.length?Object(a.jsx)("div",{style:{textAlign:"center",marginTop:"150px",color:"#d0d0d0"},children:"No Item"}):i}E.sort((function(t,e){return t.productFocus.namaProduk.localeCompare(e.productFocus.namaProduk)}));var n=E.filter((function(t){return t.productFocus.namaProduk.toLowerCase().includes(S.toLowerCase())})),s=n.map((function(t,e){return Object(a.jsx)(j.a,{style:{borderRadius:"5px",padding:"30px",marginTop:"14px"},children:Object(a.jsxs)("div",{onClick:function(){T(t.productFocus),it(t.stock),$(t.saranOrder),B(t.order),rt(t.ket),g(!0)},children:[Object(a.jsx)("div",{className:o.a.avabilitylist_title,children:t.productFocus.namaProduk}),Object(a.jsxs)("div",{className:o.a.avabilitylist_stock_container,children:[Object(a.jsxs)("div",{className:o.a.avabilitylist_container,style:{marginRight:"5px"},children:[Object(a.jsx)("div",{className:o.a.avabilitylist_subtitle,children:"Stock"}),Object(a.jsxs)("div",{div:!0,className:o.a.avabilitylist_value,children:[t.stock," pcs"]})]}),Object(a.jsxs)("div",{className:o.a.avabilitylist_container,style:{marginLeft:"5px"},children:[Object(a.jsx)("div",{className:o.a.avabilitylist_subtitle,children:"Saran Order"}),Object(a.jsxs)("div",{div:!0,className:o.a.avabilitylist_value,children:[t.saranOrder," pcs"]})]})]}),Object(a.jsxs)("div",{className:o.a.avabilitylist_container,children:[Object(a.jsx)("div",{className:o.a.avabilitylist_subtitle,children:"Order"}),Object(a.jsxs)("div",{className:o.a.avabilitylist_value,children:[t.order," pcs"]})]}),t.ket?Object(a.jsxs)("div",{className:o.a.avabilitylist_container,children:[Object(a.jsx)("div",{className:o.a.avabilitylist_subtitle,children:"Keterangan"}),Object(a.jsx)("div",{className:o.a.avabilitylist_value,children:t.ket})]}):null]})},e)}));return 0==n.length?Object(a.jsx)("div",{style:{textAlign:"center",marginTop:"150px",color:"#d0d0d0"},children:"No Item"}):s};return x?Object(a.jsx)(_.a,{}):Object(a.jsxs)(a.Fragment,{children:[bt(),Object(a.jsx)("div",{className:o.a.container,children:Object(a.jsxs)("div",{className:o.a.wrapper,children:[e.includes("HISTORY")?Object(a.jsx)(u.a,{title:"Avability",color:"white",backAction:function(){l.a.back()}}):Object(a.jsx)(u.a,{title:"Avability",color:"white",action:"Save",onClick:function(){"PLAN"===e?(h.setPlanAvability(E),l.a.push("/visit/plan/".concat(_t.query.id))):"UNPLAN"===e?(h.setUnplanAvability(E),l.a.push("/visit/unplan/submit")):"SPREADING"===e&&l.a.push("/visit/spreading/submit")},backAction:function(){l.a.back()},disable:!1}),Object(a.jsxs)("div",{className:o.a.main,children:[Object(a.jsxs)("div",{className:o.a.search_fixed,children:[Object(a.jsxs)("div",{style:{margin:"10px 0 0 0"},children:[Object(a.jsx)("div",{className:o.a.progress_bar}),Object(a.jsx)("div",{className:o.a.progress_bar_now,style:{width:"".concat(E.length/25*100,"%")}})]}),Object(a.jsx)("input",{onChange:function(t){A(t.target.value)},placeholder:"Search",className:o.a.input,style:{marginTop:"0"}})]}),Object(a.jsxs)("div",{style:{paddingTop:"60px"},children:[jt(),Object(a.jsx)("div",{style:{marginBottom:"100px"}})]})]}),e.includes("HISTORY")?null:Object(a.jsx)("div",{className:o.a.avability_bot_container,children:Object(a.jsx)(b.a,{text:"Add",onClick:function(){g(!0),T("")}})})]})})]})}},Dfhs:function(t,e,i){t.exports={container:"VisitPlanDetail_container__2jr6z",wrapper:"VisitPlanDetail_wrapper__1k2PA",main:"VisitPlanDetail_main__2JVTk",render_data:"VisitPlanDetail_render_data__UG0Yf",avability_modal_subtitle:"VisitPlanDetail_avability_modal_subtitle__cImGw",render_value:"VisitPlanDetail_render_value__2U7Gk",input:"VisitPlanDetail_input__3EeAf",input_order_search:"VisitPlanDetail_input_order_search__3uxsM",input_order:"VisitPlanDetail_input_order__1WXcP",visibility_grid:"VisitPlanDetail_visibility_grid__eKqRB",visibility_grid_history:"VisitPlanDetail_visibility_grid_history__3RjRi",visibility_dropdown:"VisitPlanDetail_visibility_dropdown__1NliU",new_button:"VisitPlanDetail_new_button__3zBx9",input_file:"VisitPlanDetail_input_file__2mLHX",progress_bar:"VisitPlanDetail_progress_bar__Cz8_8",progress_bar_now:"VisitPlanDetail_progress_bar_now__3w_Ar",avability_bot_container:"VisitPlanDetail_avability_bot_container__1vyIh",avability_modal_container:"VisitPlanDetail_avability_modal_container__1BVd4",avability_modal_main:"VisitPlanDetail_avability_modal_main__isfSW",modal_avability:"VisitPlanDetail_modal_avability__3bVY8",hidden_overflow:"VisitPlanDetail_hidden_overflow__35jOV",add_title:"VisitPlanDetail_add_title__20KUY",stock_order_container:"VisitPlanDetail_stock_order_container__1-0Au",avg_sales_container:"VisitPlanDetail_avg_sales_container__2ZL8F",avabilitylist_title:"VisitPlanDetail_avabilitylist_title__3iIBI",avabilitylist_stock_container:"VisitPlanDetail_avabilitylist_stock_container__1iSbF",avabilitylist_container:"VisitPlanDetail_avabilitylist_container__WpqI9",avabilitylist_subtitle:"VisitPlanDetail_avabilitylist_subtitle__2LI2L",avabilitylist_value:"VisitPlanDetail_avabilitylist_value__21-Yx",search_fixed:"VisitPlanDetail_search_fixed__3uZmj",nav_box:"VisitPlanDetail_nav_box__2aVI9"}},GKTS:function(t,e,i){t.exports={container:"Button_container__37SWQ",container_white:"Button_container_white__zoABs"}},JkA1:function(t,e,i){"use strict";var a=i("nKUr"),n=(i("q1tI"),i("YFqc")),s=i.n(n),c=i("mPD6"),l=i.n(c);e.a=function(t){var e=t.backHref,i=t.title,n=t.action,c=t.color,r=t.onClick,o=t.backAction,d=t.noBack,u=t.disable;return Object(a.jsxs)("div",{className:"green"==c?"".concat(l.a.nav_green," ").concat(l.a.nav_container):"white"==c?"".concat(l.a.nav_white," ").concat(l.a.nav_container):l.a.nav_container,children:[e?Object(a.jsx)(s.a,{href:e||"/",children:Object(a.jsx)("a",{children:Object(a.jsx)("img",{style:{width:"24px"},src:"/arrow-left.svg"})})}):d?Object(a.jsx)("div",{}):Object(a.jsx)("img",{onClick:function(){o()},style:{width:"24px"},src:"/arrow-left.svg"}),Object(a.jsx)("div",{style:{textAlign:"center"},className:l.a.title,children:i}),n&&!1===u?Object(a.jsx)("div",{onClick:r,style:{fontSize:"14px",margin:"auto",color:"#41867A",cursor:"pointer"},children:n}):n&&!0===u?Object(a.jsx)("div",{style:{fontSize:"14px",margin:"auto",color:"#c4c4c4",cursor:"pointer"},children:n}):null]})}},KQm4:function(t,e,i){"use strict";function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,a=new Array(e);i<e;i++)a[i]=t[i];return a}function n(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"===typeof t)return a(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?a(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}i.d(e,"a",(function(){return n}))},M7ZG:function(t,e,i){t.exports={container:"Card_container__2ez1c",shadow:"Card_shadow__Tq5_x"}},dVq6:function(t,e,i){t.exports={container:"Spinner_container__3N6EY",spinner:"Spinner_spinner__3goiz","ball-spin-clockwise":"Spinner_ball-spin-clockwise__YJ_C3"}},es2X:function(t,e,i){"use strict";var a=i("nKUr"),n=(i("q1tI"),i("YFqc"),i("GKTS")),s=i.n(n);e.a=function(t){var e=t.onClick,i=t.text,n=t.submit,c=t.color;return Object(a.jsx)("button",{type:n?"submit":"",className:"white"===c?s.a.container_white:s.a.container,onClick:e,children:i})}},fj1f:function(t,e,i){"use strict";var a=i("nKUr"),n=i("dVq6"),s=i.n(n);e.a=function(){return Object(a.jsx)("div",{className:s.a.container,children:Object(a.jsxs)("div",{className:s.a.spinner,children:[Object(a.jsx)("div",{}),Object(a.jsx)("div",{}),Object(a.jsx)("div",{}),Object(a.jsx)("div",{}),Object(a.jsx)("div",{}),Object(a.jsx)("div",{}),Object(a.jsx)("div",{}),Object(a.jsx)("div",{})]})})}},mPD6:function(t,e,i){t.exports={nav_container:"Nav_nav_container__7SMgK",title:"Nav_title__21aLL",nav_green:"Nav_nav_green__1_B--",nav_white:"Nav_nav_white__1ml4-",white:"Nav_white__2liqq"}}}]);