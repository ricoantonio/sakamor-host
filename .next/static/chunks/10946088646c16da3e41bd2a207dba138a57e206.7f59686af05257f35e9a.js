(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[7],{"4lBl":function(t,i,e){t.exports={modal:"Modal_modal__2IoMM"}},"5PhN":function(t,i,e){"use strict";var n=e("nKUr"),a=(e("q1tI"),e("M7ZG")),l=e.n(a);i.a=function(t){var i=t.children,e=t.style,a=t.shadow;return Object(n.jsx)("div",{className:"".concat(l.a.container," ").concat(a?l.a.shadow:""),style:e||{},children:i})}},AWCw:function(t,i,e){"use strict";e.d(i,"a",(function(){return O}));var n=e("nKUr"),a=e("rePB"),l=e("KQm4"),c=e("q1tI"),r=e("20a2"),s=e.n(r),o=e("Dfhs"),u=e.n(o),_=e("kQFM"),d=e("JkA1"),b=e("fj1f"),p=e("UV+Q"),j=e("Yue9"),v=e("ECGM"),f=e("5PhN");function h(t,i){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);i&&(n=n.filter((function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),e.push.apply(e,n)}return e}function y(t){for(var i=1;i<arguments.length;i++){var e=null!=arguments[i]?arguments[i]:{};i%2?h(Object(e),!0).forEach((function(i){Object(a.a)(t,i,e[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):h(Object(e)).forEach((function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))}))}return t}function O(t){var i=t.type,e=Object(c.useContext)(_.b),a=e.state,o=e.dispatch,h=e.actions,O=Object(c.useState)(!0),g=O[0],x=O[1],m=Object(c.useState)(!0),P=m[0],S=m[1],w=Object(c.useState)(!0),N=w[0],D=w[1],V=Object(c.useState)([]),A=V[0],R=V[1],I=Object(c.useState)([]),k=I[0],C=I[1],U=Object(c.useState)([]),E=U[0],q=U[1],L=Object(c.useState)([]),B=(L[0],L[1]),Y=Object(c.useState)(!1),T=Y[0],G=Y[1],M=Object(c.useState)(null),K=M[0],H=M[1],z=Object(c.useState)(0),F=z[0],J=z[1],W=Object(c.useState)(!1),Q=W[0],Z=W[1],X=Object(c.useState)([{file:null,type:null,brand:null},{file:null,type:null,brand:null},{file:null,type:null,brand:null},{file:null,type:null,brand:null},{file:null,type:null,brand:null},{file:null,type:null,brand:null},{file:null,type:null,brand:null},{file:null,type:null,brand:null}]),$=X[0],tt=X[1],it=Object(r.useRouter)(),et=[{file:null,type:null,brand:null},{file:null,type:null,brand:null},{file:null,type:null,brand:null},{file:null,type:null,brand:null},{file:null,type:null,brand:null},{file:null,type:null,brand:null},{file:null,type:null,brand:null},{file:null,type:null,brand:null}];Object(c.useEffect)((function(){$.filter((function(t){return null!==t.file&&null!==t.type})).length>0&&(window.onbeforeunload=function(){return"Data will be lost if you leave the page, are you sure?"})})),Object(c.useEffect)((function(){"PLAN"===i?a.visitPlanReducer.visibility.length>0&&tt(Object(l.a)(a.visitPlanReducer.visibility)):"UNPLAN"===i?a.visitUnplanReducer.visibility.length>0&&tt(Object(l.a)(a.visitUnplanReducer.visibility)):"SPREADING"===i&&a.visitSpreadingReducer.visibility.length>0&&tt(Object(l.a)(a.visitSpreadingReducer.visibility))}),[o]),Object(c.useEffect)((function(){it.query.new?Z(!0):"UNPLAN"===i?a.visitUnplanReducer.jenisChannel.namaJenisChannel&&a.visitUnplanReducer.outlet.namaOutlet||s.a.push("/visit/unplan"):"SPREADING"===i&&(a.visitSpreadingReducer.jenisChannel.namaJenisChannel&&a.visitSpreadingReducer.outlet.namaOutlet||s.a.push("/visit/spreading?new=true"))}),[]),Object(c.useEffect)((function(){it.query.id&&("PLAN"===i?Object(v.l)(it.query.id).then((function(t){var i=t.samePlan,e=t.data;0==i.length?s.a.push("/visit/plan"):(B(e),x(!1),a.visitPlanReducer.checkIn||h.setPlanCheckIn(now))})).catch((function(t){console.log(t)})):"UNPLAN"===i||"SPREADING"===i||("HISTORY_PLAN"===i?Object(v.e)(it.query.id).then((function(t){q(t),console.log(t),x(!1)})).catch((function(t){console.log(t)})):"HISTORY_UNPLAN"===i?Object(v.g)(it.query.id).then((function(t){q(t),console.log(t),x(!1)})).catch((function(t){console.log(t)})):"HISTORY_SPREADING"===i&&Object(v.f)(it.query.id).then((function(t){q(t),x(!1)})).catch((function(t){console.log(t)}))))}),[it.query.id]),Object(c.useEffect)((function(){Object(v.o)().then((function(t){R(t),x(!1)})).catch((function(t){console.log(t)})),Object(v.c)().then((function(t){C(t),S(!1)})).catch((function(t){console.log(t)}))}),[o]);var nt=function(){var t=E.map((function(t,e){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{style:{fontSize:"12px",color:"#b9b9c3"},children:["POSM ",e+1]}),Object(n.jsx)("div",{className:u.a.visibility_grid_history,children:Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:u.a.grid_50,children:[Object(n.jsx)(f.a,{style:{height:"32px",border:"1px solid #e9ecf2",padding:"6px 10px",borderRadius:"5px"},children:t.tipe}),Object(n.jsx)(f.a,{style:{height:"32px",border:"1px solid #e9ecf2",padding:"6px 10px",borderRadius:"5px"},children:t.namaBrand})]}),Object(n.jsx)("span",{style:{fontSize:"10px",color:"#41867A",fontWeight:"500"},onClick:function(){!function(t){G(!0),D(!0),"HISTORY_PLAN"===i?Object(v.C)(t.id).then((function(t){H(t),D(!1)})).catch((function(t){console.log(t)})):"HISTORY_UNPLAN"===i?Object(v.E)(t.id).then((function(t){H(t),D(!1)})).catch((function(t){console.log(t)})):"HISTORY_SPREADING"===i&&Object(v.D)(t.id).then((function(t){H(t),D(!1)})).catch((function(t){console.log(t)}))}(t)},children:t.namaFile})]})},e)]})}));return g||P?Object(n.jsx)(b.a,{}):t};return g||P?Object(n.jsx)(b.a,{}):Object(n.jsxs)("div",{className:u.a.container,children:[T?Object(n.jsx)(p.a,{onClick:function(){H(null),G(!1)},children:Object(n.jsx)("div",{style:{maxHeight:"100%",overflow:"auto"},children:Object(n.jsx)("div",{style:{width:"400px",maxHeight:"100%",margin:"20px auto"},children:N?Object(n.jsx)(b.a,{}):Object(n.jsx)("img",{style:{width:"380px",margin:"0 10px"},src:K})})})}):null,Object(n.jsxs)("div",{className:u.a.wrapper,children:[i.includes("HISTORY")?Object(n.jsx)(d.a,{title:"Visibility",color:"white",backAction:function(){s.a.back()}}):Object(n.jsx)(d.a,{title:"Visibility",color:"white",action:"Save",onClick:function(){console.log($),Q?(h.setSpreadingVisibility($),s.a.push("/visit/spreading/submit?new=true")):"PLAN"===i?(h.setPlanVisibility($),s.a.push("/visit/plan/".concat(it.query.id))):"UNPLAN"===i?(h.setUnplanVisibility($),s.a.push("/visit/unplan/submit")):"SPREADING"===i&&(h.setSpreadingVisibility($),s.a.push("/visit/spreading/submit"))},backAction:function(){"PLAN"===i&&(a.visitPlanReducer.visibility.length>0?tt(Object(l.a)(a.visitPlanReducer.visibility)):tt([].concat(et))),"UNPLAN"===i&&(a.visitUnplanReducer.visibility.length>0?tt(Object(l.a)(a.visitUnplanReducer.visibility)):tt([].concat(et))),"SPREADING"===i&&(a.visitSpreadingReducer.visibility.length>0?tt(Object(l.a)(a.visitSpreadingReducer.visibility)):tt([].concat(et))),s.a.back()},disable:!1}),Object(n.jsx)("div",{className:u.a.main,children:i.includes("HISTORY")?nt():$.map((function(t,i){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{style:{fontSize:"12px",color:"#b9b9c3"},children:["POSM ",i+1]}),Object(n.jsxs)("div",{className:u.a.visibility_grid,children:[Object(n.jsxs)("div",{className:u.a.visibility_dropdown,children:[Object(n.jsxs)("div",{className:u.a.grid_50,children:[Object(n.jsx)(j.a,{options:A,type:"POSM",onChange:function(t){var e=A.filter((function(i){return i.program==t.target.value}));$.splice(i,1,y(y({},$[i]),{},{type:e[0]})),J(F+1)},value:null!=t.type?t.type.program:""}),Object(n.jsx)(j.a,{options:k,type:"BRAND",onChange:function(t){var e=k.filter((function(i){return i.namaBrand==t.target.value}));$.splice(i,1,y(y({},$[i]),{},{brand:e[0]})),J(F+1)},value:null!=t.brand?t.brand.namaBrand:""})]}),Object(n.jsx)("span",{style:{fontSize:"10px",color:"#41867A",fontWeight:"500"},children:null!=t.file?t.file.name:null})]}),Object(n.jsx)("div",{children:Object(n.jsxs)("label",{className:u.a.new_button,htmlFor:"upload".concat(i),children:[Object(n.jsx)("img",{src:"/camera.svg",style:{width:"18px",verticalAlign:"baseline"}}),Object(n.jsx)("input",{className:u.a.input_file,onChange:function(t){$.splice(i,1,y(y({},$[i]),{},{file:t.target.files[0]})),J(F+1)},id:"upload".concat(i),type:"file",accept:"image/*",capture:"environment"})]})})]},i)]})}))})]})]})}},Dfhs:function(t,i,e){t.exports={container:"VisitPlanDetail_container__2jr6z",wrapper:"VisitPlanDetail_wrapper__1k2PA",main:"VisitPlanDetail_main__2JVTk",render_data:"VisitPlanDetail_render_data__UG0Yf",avability_modal_subtitle:"VisitPlanDetail_avability_modal_subtitle__cImGw",render_value:"VisitPlanDetail_render_value__2U7Gk",input:"VisitPlanDetail_input__3EeAf",input_order_search:"VisitPlanDetail_input_order_search__3uxsM",input_order:"VisitPlanDetail_input_order__1WXcP",visibility_grid:"VisitPlanDetail_visibility_grid__eKqRB",grid_50:"VisitPlanDetail_grid_50__xScpT",visibility_grid_history:"VisitPlanDetail_visibility_grid_history__3RjRi",visibility_dropdown:"VisitPlanDetail_visibility_dropdown__1NliU",new_button:"VisitPlanDetail_new_button__3zBx9",input_file:"VisitPlanDetail_input_file__2mLHX",progress_bar:"VisitPlanDetail_progress_bar__Cz8_8",progress_bar_now:"VisitPlanDetail_progress_bar_now__3w_Ar",avability_bot_container:"VisitPlanDetail_avability_bot_container__1vyIh",avability_modal_container:"VisitPlanDetail_avability_modal_container__1BVd4",avability_modal_main:"VisitPlanDetail_avability_modal_main__isfSW",modal_avability:"VisitPlanDetail_modal_avability__3bVY8",hidden_overflow:"VisitPlanDetail_hidden_overflow__35jOV",add_title:"VisitPlanDetail_add_title__20KUY",stock_order_container:"VisitPlanDetail_stock_order_container__1-0Au",avg_sales_container:"VisitPlanDetail_avg_sales_container__2ZL8F",avabilitylist_title:"VisitPlanDetail_avabilitylist_title__3iIBI",avabilitylist_stock_container:"VisitPlanDetail_avabilitylist_stock_container__1iSbF",avabilitylist_container:"VisitPlanDetail_avabilitylist_container__WpqI9",avabilitylist_subtitle:"VisitPlanDetail_avabilitylist_subtitle__2LI2L",avabilitylist_value:"VisitPlanDetail_avabilitylist_value__21-Yx",search_fixed:"VisitPlanDetail_search_fixed__3uZmj",nav_box:"VisitPlanDetail_nav_box__2aVI9"}},JFGI:function(t,i,e){t.exports={container:"Dropdown_container__3dbP-"}},JkA1:function(t,i,e){"use strict";var n=e("nKUr"),a=(e("q1tI"),e("YFqc")),l=e.n(a),c=e("mPD6"),r=e.n(c);i.a=function(t){var i=t.backHref,e=t.title,a=t.action,c=t.color,s=t.onClick,o=t.backAction,u=t.noBack,_=t.disable;return Object(n.jsxs)("div",{className:"green"==c?"".concat(r.a.nav_green," ").concat(r.a.nav_container):"white"==c?"".concat(r.a.nav_white," ").concat(r.a.nav_container):r.a.nav_container,children:[i?Object(n.jsx)(l.a,{href:i||"/",children:Object(n.jsx)("a",{children:Object(n.jsx)("img",{style:{width:"24px"},src:"/arrow-left.svg"})})}):u?Object(n.jsx)("div",{}):Object(n.jsx)("img",{onClick:function(){o()},style:{width:"24px"},src:"/arrow-left.svg"}),Object(n.jsx)("div",{style:{textAlign:"center"},className:r.a.title,children:e}),a&&!1===_?Object(n.jsx)("div",{onClick:s,style:{fontSize:"14px",margin:"auto",color:"#41867A",cursor:"pointer"},children:a}):a&&!0===_?Object(n.jsx)("div",{onClick:s,style:{fontSize:"14px",margin:"auto",color:"#c4c4c4",cursor:"pointer"},children:a}):null]})}},KQm4:function(t,i,e){"use strict";function n(t,i){(null==i||i>t.length)&&(i=t.length);for(var e=0,n=new Array(i);e<i;e++)n[e]=t[e];return n}function a(t){return function(t){if(Array.isArray(t))return n(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,i){if(t){if("string"===typeof t)return n(t,i);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?n(t,i):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}e.d(i,"a",(function(){return a}))},M7ZG:function(t,i,e){t.exports={container:"Card_container__2ez1c",shadow:"Card_shadow__Tq5_x"}},"UV+Q":function(t,i,e){"use strict";var n=e("nKUr"),a=(e("q1tI"),e("YFqc"),e("4lBl")),l=e.n(a);e("20a2");i.a=function(t){var i=t.children,e=t.onClick;return Object(n.jsx)("div",{onClick:e,className:l.a.modal,children:i})}},Yue9:function(t,i,e){"use strict";var n=e("nKUr"),a=e("KQm4"),l=(e("q1tI"),e("JFGI")),c=e.n(l);i.a=function(t){var i=t.options,e=void 0===i?[]:i,l=t.onChange,r=t.value,s=t.type;if("POSM"===s)var o=r?{program:r,value:r}:{program:"SELECT TYPE",value:{}};else if("BRAND"===s)o=r?{namaBrand:r,value:r}:{namaBrand:"SELECT BRAND",value:{}};return Object(n.jsx)("select",{className:c.a.container,onChange:function(t){return l(t)},children:[o].concat(Object(a.a)(e)).map((function(t,i){return t&&Object(n.jsx)("option",{value:t.value,children:"POSM"==s?t.program:"BRAND"===s?t.namaBrand:"NILAI_WORKVISIT"===s?t:""},i)}))})}},dVq6:function(t,i,e){t.exports={container:"Spinner_container__3N6EY",spinner:"Spinner_spinner__3goiz","ball-spin-clockwise":"Spinner_ball-spin-clockwise__YJ_C3"}},fj1f:function(t,i,e){"use strict";var n=e("nKUr"),a=e("dVq6"),l=e.n(a);i.a=function(){return Object(n.jsx)("div",{className:l.a.container,children:Object(n.jsxs)("div",{className:l.a.spinner,children:[Object(n.jsx)("div",{}),Object(n.jsx)("div",{}),Object(n.jsx)("div",{}),Object(n.jsx)("div",{}),Object(n.jsx)("div",{}),Object(n.jsx)("div",{}),Object(n.jsx)("div",{}),Object(n.jsx)("div",{})]})})}},mPD6:function(t,i,e){t.exports={nav_container:"Nav_nav_container__7SMgK",title:"Nav_title__21aLL",nav_green:"Nav_nav_green__1_B--",nav_white:"Nav_nav_white__1ml4-",white:"Nav_white__2liqq"}}}]);